<!DOCTYPE html><!--ryJ1hqDFRRYDqjJ7QQbeJ--><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/css/e90084642ea679c3.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-b324d02f34a87c55.js"/><script src="/_next/static/chunks/9420b3d0-1814579faddf9aee.js" async=""></script><script src="/_next/static/chunks/142-6d3488b68324b3ce.js" async=""></script><script src="/_next/static/chunks/main-app-e4c8516dbf039eef.js" async=""></script><script src="/_next/static/chunks/740-f45b012b8bf2d21f.js" async=""></script><script src="/_next/static/chunks/app/business/sub-metering/page-f16385889fc3e8f1.js" async=""></script><title>MeterHub - Smart Metering Education &amp; Services</title><meta name="description" content="Professional learning platform for smart metering technology, protocols, and business applications"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="antialiased"><div hidden=""><!--$--><!--/$--></div><div class="min-h-screen bg-gray-50"><nav class="bg-white shadow-sm"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex justify-between h-16 items-center"><a class="text-2xl font-bold text-blue-600" href="/">MeterHub</a><div class="hidden md:flex space-x-8"><a class="text-gray-700 hover:text-blue-600" href="/">Home</a><a class="text-gray-700 hover:text-blue-600" href="/fundamentals/">Fundamentals</a><a class="text-gray-700 hover:text-blue-600" href="/protocols/">Protocols</a><a class="text-blue-600 font-medium" href="/business/">Business</a><a class="text-gray-700 hover:text-blue-600" href="/resources/">Resources</a></div></div></div></nav><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"><div class="grid grid-cols-1 lg:grid-cols-4 gap-8"><aside class="lg:col-span-1"><div class="bg-white rounded-lg shadow-sm p-6 sticky top-8"><h3 class="font-semibold text-gray-900 mb-4">Business Cases</h3><nav class="space-y-2"><a class="block text-gray-700 hover:text-blue-600 py-1" href="/business/">Overview</a><a class="block text-gray-700 hover:text-blue-600 py-1" href="/business/sub-metering/">Sub-Metering Solutions</a></nav><div class="mt-6 pt-6 border-t border-gray-200"><h3 class="font-semibold text-gray-900 mb-3 text-sm">Quick Links</h3><nav class="space-y-2 text-sm"><a class="block text-gray-600 hover:text-blue-600 py-1" href="/fundamentals/">→ Fundamentals</a><a class="block text-gray-600 hover:text-blue-600 py-1" href="/protocols/">→ Protocols</a><a class="block text-gray-600 hover:text-blue-600 py-1" href="/learn/getting-started/">→ Getting Started</a></nav></div></div></aside><main class="lg:col-span-3"><article class="bg-white rounded-lg shadow-sm p-8 prose prose-blue max-w-none"><h1 class="text-4xl font-bold text-gray-900 mb-6 mt-8">Sub-Metering for Multi-Tenant Properties</h1>
<p class="text-gray-700 mb-4 leading-relaxed">A comprehensive guide to implementing DLMS/COSEM-based sub-metering solutions for apartments, condominiums, commercial buildings, and multi-tenant properties.</p>
<div class="border-l-4 p-4 mb-4 bg-blue-50 border-blue-500 text-blue-900"><div class="flex items-start"><span class="text-2xl mr-3">ℹ️</span><div class="flex-1"><p class="text-gray-700 mb-4 leading-relaxed"><strong>Business Model:</strong> Property owner purchases bulk electricity from utility, then resells to individual tenants using sub-meters for accurate billing.</p></div></div></div>
<h2 class="text-3xl font-semibold text-gray-900 mb-4 mt-8">Understanding the Architecture</h2>
<h3 class="text-2xl font-semibold text-gray-900 mb-3 mt-6">System Terminology</h3>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>DLMS/COSEM Communication Model:</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4"><strong>Meter (DLMS Server)</strong> - The smart meter device that stores consumption data and responds to requests</li>
<li class="ml-4"><strong>Client Application</strong> - Software that reads data from meters (sends GET/SET requests)</li>
<li class="ml-4"><strong>Head-End System (HES)</strong> or <strong>Data Concentrator</strong> - Central server that manages communication with multiple meters</li>
<li class="ml-4"><strong>Meter Data Management System (MDMS)</strong> - Backend system for data processing, validation, and billing</li>
</ul>
<div class="border-l-4 p-4 mb-4 bg-purple-50 border-purple-500 text-purple-900"><div class="flex items-start"><span class="text-2xl mr-3">💡</span><div class="flex-1"><p class="text-gray-700 mb-4 leading-relaxed">In DLMS terminology, the <strong>meter is the server</strong> (it serves data), and the <strong>reading application is the client</strong> (it requests data).</p></div></div></div>
<h3 class="text-2xl font-semibold text-gray-900 mb-3 mt-6">Sub-Metering System Architecture</h3>
<pre class="bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto mb-4"><code class="bg-gray-100 text-red-600 px-1.5 py-0.5 rounded text-sm font-mono">┌─────────────────────────────────────────────────────────────────┐
│                       UTILITY GRID                               │
│                     (Bulk Power Supply)                          │
└────────────────────────────┬────────────────────────────────────┘
                             │
                    ┌────────▼─────────┐
                    │  Master Meter    │ ◄── Utility&#x27;s meter
                    │  (Main Intake)   │     (measures total consumption)
                    └────────┬─────────┘
                             │
              ┌──────────────┴──────────────┐
              │   Building Distribution     │
              │   (Breaker Panel/DB)        │
              └──────────────┬──────────────┘
                             │
        ┌────────────────────┼────────────────────┐
        │                    │                    │
   ┌────▼─────┐        ┌────▼─────┐        ┌────▼─────┐
   │Sub-Meter │        │Sub-Meter │        │Sub-Meter │
   │ Unit 101 │        │ Unit 102 │   ...  │ Unit 201 │
   │ (Server) │        │ (Server) │        │ (Server) │
   └────┬─────┘        └────┬─────┘        └────┬─────┘
        │                   │                    │
        └───────────────────┼────────────────────┘
                            │
                 ┌──────────▼──────────┐
                 │  Data Concentrator  │ ◄── Collects data from
                 │   or HES (Client)   │     all sub-meters
                 └──────────┬──────────┘
                            │
                 ┌──────────▼──────────┐
                 │       MDMS          │ ◄── Processes data,
                 │  Billing System     │     generates bills
                 └──────────┬──────────┘
                            │
                 ┌──────────▼──────────┐
                 │  Tenant Portal      │ ◄── Tenants view
                 │  Vending System     │     usage &amp; buy tokens
                 └─────────────────────┘
</code></pre>
<h2 class="text-3xl font-semibold text-gray-900 mb-4 mt-8">Business Case: Multi-Tenant Property Sub-Metering</h2>
<h3 class="text-2xl font-semibold text-gray-900 mb-3 mt-6">Scenario</h3>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Property Type:</strong> 50-unit apartment building or condominium
<strong>Owner:</strong> Property management company or landlord
<strong>Tenants:</strong> Individual apartment residents
<strong>Utility Arrangement:</strong> Bulk electricity supply to property owner</p>
<h3 class="text-2xl font-semibold text-gray-900 mb-3 mt-6">Stakeholders and Their Roles</h3>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>1. Utility Company</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">Supplies bulk electricity to the property</li>
<li class="ml-4">Installs and maintains <strong>master meter</strong> at main intake</li>
<li class="ml-4">Bills property owner for total consumption</li>
<li class="ml-4">Not involved in individual tenant billing</li>
</ul>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>2. Property Owner/Manager</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">Purchases electricity in bulk (often at commercial rates)</li>
<li class="ml-4">Installs <strong>sub-meters</strong> in each unit</li>
<li class="ml-4">Operates Head-End System (HES) to collect meter data</li>
<li class="ml-4">Bills tenants for individual consumption</li>
<li class="ml-4">May add service charge/margin on electricity</li>
</ul>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>3. Tenants</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">Consume electricity measured by sub-meter</li>
<li class="ml-4">Pay property owner (not utility directly)</li>
<li class="ml-4">May use prepaid or postpaid billing</li>
<li class="ml-4">Access consumption data via tenant portal</li>
</ul>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>4. Sub-Metering Service Provider</strong> (Optional)</p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">Installs and maintains sub-meters</li>
<li class="ml-4">Operates HES/MDMS infrastructure</li>
<li class="ml-4">Provides billing software</li>
<li class="ml-4">Offers tenant vending platform</li>
</ul>
<h2 class="text-3xl font-semibold text-gray-900 mb-4 mt-8">Technical Implementation</h2>
<h3 class="text-2xl font-semibold text-gray-900 mb-3 mt-6">1. Sub-Meter Specifications</h3>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Required Features:</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">✅ <strong>DLMS/COSEM compliance</strong> - Standard protocol for data exchange</li>
<li class="ml-4">✅ <strong>Tamper detection</strong> - Detects bypass, cover opening, magnetic interference</li>
<li class="ml-4">✅ <strong>Load profile recording</strong> - Stores consumption patterns (15-min/30-min intervals)</li>
<li class="ml-4">✅ <strong>Prepaid capability</strong> - Supports STS (Standard Transfer Specification) tokens</li>
<li class="ml-4">✅ <strong>Remote disconnect/reconnect</strong> - Control relay via COSEM commands</li>
<li class="ml-4">✅ <strong>Multi-tariff support</strong> - Time-of-use pricing (peak/off-peak)</li>
<li class="ml-4">✅ <strong>Event logging</strong> - Records power outages, tampering, low credit warnings</li>
</ul>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Common OBIS Codes Used:</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4"><code class="bg-gray-100 text-red-600 px-1.5 py-0.5 rounded text-sm font-mono">1.0.1.8.0.255</code> - Total active energy (kWh)</li>
<li class="ml-4"><code class="bg-gray-100 text-red-600 px-1.5 py-0.5 rounded text-sm font-mono">1.0.1.7.0.255</code> - Instantaneous power (kW)</li>
<li class="ml-4"><code class="bg-gray-100 text-red-600 px-1.5 py-0.5 rounded text-sm font-mono">0.0.96.1.0.255</code> - Meter serial number</li>
<li class="ml-4"><code class="bg-gray-100 text-red-600 px-1.5 py-0.5 rounded text-sm font-mono">0.0.96.3.10.255</code> - Disconnect control object</li>
<li class="ml-4"><code class="bg-gray-100 text-red-600 px-1.5 py-0.5 rounded text-sm font-mono">0.0.99.1.0.255</code> - Load profile data</li>
<li class="ml-4"><code class="bg-gray-100 text-red-600 px-1.5 py-0.5 rounded text-sm font-mono">0.0.97.97.0.255</code> - Error/event register</li>
</ul>
<h3 class="text-2xl font-semibold text-gray-900 mb-3 mt-6">2. Communication Infrastructure</h3>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Option A: Power Line Communication (PLC)</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">Data transmitted over existing electrical wiring</li>
<li class="ml-4">No additional cabling required</li>
<li class="ml-4">Cost-effective for buildings</li>
<li class="ml-4">Typical range: 300m</li>
<li class="ml-4">Bandwidth: 10-500 kbps</li>
</ul>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Option B: RF Mesh Network</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">Wireless mesh topology</li>
<li class="ml-4">Each meter acts as repeater</li>
<li class="ml-4">Good coverage and reliability</li>
<li class="ml-4">Typical range: 100-300m per hop</li>
</ul>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Option C: Ethernet/RS-485</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">Wired connection to data concentrator</li>
<li class="ml-4">Most reliable but requires cabling</li>
<li class="ml-4">Suitable for new construction</li>
<li class="ml-4">Higher installation cost</li>
</ul>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Option D: Cellular (GSM/4G/NB-IoT)</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">Each meter has SIM card</li>
<li class="ml-4">Independent connectivity</li>
<li class="ml-4">Higher operating cost (SIM charges)</li>
<li class="ml-4">Good for scattered properties</li>
</ul>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Recommended for Apartments:</strong> PLC or RF Mesh (no extra cabling needed)</p>
<h3 class="text-2xl font-semibold text-gray-900 mb-3 mt-6">3. Head-End System (HES) / Data Concentrator</h3>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Functions:</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4"><strong>Meter Discovery</strong> - Automatically detects and registers new meters</li>
<li class="ml-4"><strong>Data Collection</strong> - Periodically reads consumption data (daily/hourly)</li>
<li class="ml-4"><strong>Load Profile Retrieval</strong> - Fetches historical consumption patterns</li>
<li class="ml-4"><strong>Remote Commands</strong> - Issues disconnect/reconnect, tariff updates</li>
<li class="ml-4"><strong>Alarm Management</strong> - Monitors tamper events, power failures</li>
<li class="ml-4"><strong>Firmware Updates</strong> - Updates meter software remotely</li>
</ul>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Deployment Options:</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4"><strong>On-Premise</strong> - Server installed in building (typical for large properties)</li>
<li class="ml-4"><strong>Cloud-Based</strong> - SaaS solution (typical for smaller properties or multiple sites)</li>
<li class="ml-4"><strong>Hybrid</strong> - Local concentrator with cloud backup</li>
</ul>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>DLMS Communication:</strong></p>
<pre class="bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto mb-4"><code class="hljs language-javascript"><span class="hljs-comment">// Example: HES reading all meters daily</span>
<span class="hljs-keyword">const</span> meters = <span class="hljs-keyword">await</span> hes.<span class="hljs-title function_">discoverMeters</span>(); <span class="hljs-comment">// Find all meters on network</span>

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> meter <span class="hljs-keyword">of</span> meters) {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-comment">// Connect to meter (meter is DLMS server, HES is client)</span>
    <span class="hljs-keyword">await</span> dlmsClient.<span class="hljs-title function_">connect</span>(meter.<span class="hljs-property">address</span>);

    <span class="hljs-comment">// Authenticate</span>
    <span class="hljs-keyword">await</span> dlmsClient.<span class="hljs-title function_">authenticate</span>(<span class="hljs-string">&#x27;password&#x27;</span>);

    <span class="hljs-comment">// Read total energy consumption</span>
    <span class="hljs-keyword">const</span> energy = <span class="hljs-keyword">await</span> dlmsClient.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;1.0.1.8.0.255&#x27;</span>);

    <span class="hljs-comment">// Read load profile (last 24 hours)</span>
    <span class="hljs-keyword">const</span> profile = <span class="hljs-keyword">await</span> dlmsClient.<span class="hljs-title function_">getLoadProfile</span>(
      <span class="hljs-string">&#x27;0.0.99.1.0.255&#x27;</span>,
      startTime,
      endTime
    );

    <span class="hljs-comment">// Store in MDMS</span>
    <span class="hljs-keyword">await</span> mdms.<span class="hljs-title function_">storeReading</span>({
      <span class="hljs-attr">meterId</span>: meter.<span class="hljs-property">id</span>,
      <span class="hljs-attr">timestamp</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(),
      <span class="hljs-attr">energy</span>: energy,
      <span class="hljs-attr">profile</span>: profile
    });

    <span class="hljs-comment">// Disconnect</span>
    <span class="hljs-keyword">await</span> dlmsClient.<span class="hljs-title function_">disconnect</span>();
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to read meter <span class="hljs-subst">${meter.id}</span>:`</span>, error);
  }
}
</code></pre>
<h3 class="text-2xl font-semibold text-gray-900 mb-3 mt-6">4. Meter Data Management System (MDMS)</h3>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Core Functions:</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4"><strong>Data Validation</strong> - Checks for missing, duplicate, or suspicious readings</li>
<li class="ml-4"><strong>Billing Calculation</strong> - Computes charges based on consumption and tariffs</li>
<li class="ml-4"><strong>Balance Management</strong> - Tracks prepaid credit or postpaid balances</li>
<li class="ml-4"><strong>Report Generation</strong> - Usage reports, billing summaries, consumption trends</li>
<li class="ml-4"><strong>Tenant Management</strong> - User accounts, contact info, payment history</li>
</ul>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Database Schema (Simplified):</strong></p>
<pre class="bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto mb-4"><code class="hljs language-sql"><span class="hljs-comment">-- Tenants table</span>
<span class="hljs-keyword">CREATE TABLE</span> tenants (
  id UUID <span class="hljs-keyword">PRIMARY KEY</span>,
  unit_number <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">10</span>),
  name <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">100</span>),
  email <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">100</span>),
  phone <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">20</span>),
  move_in_date <span class="hljs-type">DATE</span>,
  account_balance <span class="hljs-type">DECIMAL</span>(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>)
);

<span class="hljs-comment">-- Meters table</span>
<span class="hljs-keyword">CREATE TABLE</span> meters (
  id UUID <span class="hljs-keyword">PRIMARY KEY</span>,
  meter_serial <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">50</span>) <span class="hljs-keyword">UNIQUE</span>,
  tenant_id UUID <span class="hljs-keyword">REFERENCES</span> tenants(id),
  unit_number <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">10</span>),
  install_date <span class="hljs-type">DATE</span>,
  meter_type <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">50</span>),
  communication_address <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">100</span>)
);

<span class="hljs-comment">-- Readings table</span>
<span class="hljs-keyword">CREATE TABLE</span> readings (
  id UUID <span class="hljs-keyword">PRIMARY KEY</span>,
  meter_id UUID <span class="hljs-keyword">REFERENCES</span> meters(id),
  <span class="hljs-type">timestamp</span> <span class="hljs-type">TIMESTAMP</span>,
  total_energy <span class="hljs-type">DECIMAL</span>(<span class="hljs-number">10</span>,<span class="hljs-number">3</span>), <span class="hljs-comment">-- kWh</span>
  instantaneous_power <span class="hljs-type">DECIMAL</span>(<span class="hljs-number">8</span>,<span class="hljs-number">3</span>), <span class="hljs-comment">-- kW</span>
  voltage <span class="hljs-type">DECIMAL</span>(<span class="hljs-number">6</span>,<span class="hljs-number">2</span>), <span class="hljs-comment">-- V</span>
  <span class="hljs-keyword">current</span> <span class="hljs-type">DECIMAL</span>(<span class="hljs-number">6</span>,<span class="hljs-number">2</span>), <span class="hljs-comment">-- A</span>
  power_factor <span class="hljs-type">DECIMAL</span>(<span class="hljs-number">4</span>,<span class="hljs-number">3</span>)
);

<span class="hljs-comment">-- Billing table</span>
<span class="hljs-keyword">CREATE TABLE</span> bills (
  id UUID <span class="hljs-keyword">PRIMARY KEY</span>,
  tenant_id UUID <span class="hljs-keyword">REFERENCES</span> tenants(id),
  billing_period_start <span class="hljs-type">DATE</span>,
  billing_period_end <span class="hljs-type">DATE</span>,
  consumption_kwh <span class="hljs-type">DECIMAL</span>(<span class="hljs-number">10</span>,<span class="hljs-number">3</span>),
  rate_per_kwh <span class="hljs-type">DECIMAL</span>(<span class="hljs-number">6</span>,<span class="hljs-number">4</span>),
  amount <span class="hljs-type">DECIMAL</span>(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>),
  service_charge <span class="hljs-type">DECIMAL</span>(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>),
  total_amount <span class="hljs-type">DECIMAL</span>(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>),
  status <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">20</span>), <span class="hljs-comment">-- pending, paid, overdue</span>
  paid_date <span class="hljs-type">DATE</span>
);
</code></pre>
<h2 class="text-3xl font-semibold text-gray-900 mb-4 mt-8">Prepaid Metering with STS Tokens</h2>
<h3 class="text-2xl font-semibold text-gray-900 mb-3 mt-6">What is STS (Standard Transfer Specification)?</h3>
<p class="text-gray-700 mb-4 leading-relaxed">STS is an international standard (IEC 62055) for prepaid electricity metering using encrypted tokens.</p>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>How it Works:</strong></p>
<ol class="list-decimal list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Tenant purchases credit</strong> via:</p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">Mobile app</li>
<li class="ml-4">Web portal</li>
<li class="ml-4">SMS</li>
<li class="ml-4">Physical vending point</li>
<li class="ml-4">USSD (<em>123</em>456#)</li>
</ul>
</li>
<li class="ml-4">
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Vending system generates token:</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">20-digit encrypted number</li>
<li class="ml-4">Cryptographically secured (prevents fraud)</li>
<li class="ml-4">Contains: amount, meter number, sequence number</li>
</ul>
</li>
<li class="ml-4">
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Tenant enters token into meter:</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">Via meter keypad</li>
<li class="ml-4">Or sent remotely via DLMS</li>
</ul>
</li>
<li class="ml-4">
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Meter validates and credits account:</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">Decrypts token</li>
<li class="ml-4">Verifies authenticity</li>
<li class="ml-4">Adds credit to balance</li>
</ul>
</li>
</ol>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Token Format:</strong></p>
<pre class="bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto mb-4"><code class="bg-gray-100 text-red-600 px-1.5 py-0.5 rounded text-sm font-mono">1234 5678 9012 3456 7890
│    │    │    │    │
│    │    │    │    └─── Check digits
│    │    │    └──────── Encrypted amount
│    │    └───────────── Meter identification
│    └────────────────── Random number
└─────────────────────── Token class
</code></pre>
<h3 class="text-2xl font-semibold text-gray-900 mb-3 mt-6">STS Token Generation</h3>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>System Architecture:</strong></p>
<pre class="bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto mb-4"><code class="bg-gray-100 text-red-600 px-1.5 py-0.5 rounded text-sm font-mono">┌─────────────┐
│   Tenant    │
│  (Mobile)   │
└──────┬──────┘
       │ 1. Request: &quot;Buy $10 credit&quot;
       ▼
┌─────────────┐
│   Vending   │ ◄── Payment gateway
│   Server    │
└──────┬──────┘
       │ 2. Process payment
       │ 3. Generate STS token
       ▼
┌─────────────┐
│     STS     │ ◄── Uses meter&#x27;s secret key
│  Generator  │     (pre-loaded during install)
└──────┬──────┘
       │ 4. Return token: &quot;1234 5678 9012 3456 7890&quot;
       ▼
┌─────────────┐
│   Tenant    │
│  Receives   │ ◄── SMS, app, email
│   Token     │
└──────┬──────┘
       │ 5. Enter token on meter keypad
       ▼
┌─────────────┐
│  Sub-Meter  │
│   (Server)  │ ◄── Validates &amp; credits account
└─────────────┘
</code></pre>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Example Token Generation (Simplified):</strong></p>
<pre class="bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto mb-4"><code class="hljs language-python"><span class="hljs-keyword">import</span> hashlib
<span class="hljs-keyword">import</span> secrets

<span class="hljs-keyword">def</span> <span class="hljs-title function_">generate_sts_token</span>(<span class="hljs-params">meter_number, amount_cents, secret_key</span>):
    <span class="hljs-string">&quot;&quot;&quot;Generate STS-compliant prepaid token&quot;&quot;&quot;</span>

    <span class="hljs-comment"># Create token data</span>
    token_data = {
        <span class="hljs-string">&#x27;meter_number&#x27;</span>: meter_number,
        <span class="hljs-string">&#x27;amount&#x27;</span>: amount_cents,
        <span class="hljs-string">&#x27;sequence&#x27;</span>: get_next_sequence(meter_number),
        <span class="hljs-string">&#x27;random&#x27;</span>: secrets.randbelow(<span class="hljs-number">1000000</span>),
        <span class="hljs-string">&#x27;timestamp&#x27;</span>: <span class="hljs-built_in">int</span>(time.time())
    }

    <span class="hljs-comment"># Encrypt using meter&#x27;s secret key (DES/AES)</span>
    encrypted = encrypt_token_data(token_data, secret_key)

    <span class="hljs-comment"># Format as 20-digit token</span>
    token = format_20_digit_token(encrypted)

    <span class="hljs-comment"># Add check digits</span>
    token_with_checksum = add_checksum(token)

    <span class="hljs-keyword">return</span> token_with_checksum

<span class="hljs-comment"># Example usage</span>
token = generate_sts_token(
    meter_number=<span class="hljs-string">&#x27;12345678&#x27;</span>,
    amount_cents=<span class="hljs-number">1000</span>,  <span class="hljs-comment"># $10.00</span>
    secret_key=<span class="hljs-string">&#x27;meter_secret_key_abc123&#x27;</span>
)

<span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Token: <span class="hljs-subst">{token}</span>&quot;</span>)
<span class="hljs-comment"># Output: 1234 5678 9012 3456 7890</span>
</code></pre>
<h3 class="text-2xl font-semibold text-gray-900 mb-3 mt-6">Remote Token Loading (Alternative to Keypad Entry)</h3>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Using DLMS/COSEM:</strong></p>
<pre class="bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto mb-4"><code class="hljs language-javascript"><span class="hljs-comment">// Load token remotely via DLMS</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">loadTokenRemotely</span>(<span class="hljs-params">meterId, token</span>) {
  <span class="hljs-comment">// Connect to meter</span>
  <span class="hljs-keyword">await</span> dlmsClient.<span class="hljs-title function_">connect</span>(meterId);
  <span class="hljs-keyword">await</span> dlmsClient.<span class="hljs-title function_">authenticate</span>();

  <span class="hljs-comment">// Write token to meter&#x27;s credit register</span>
  <span class="hljs-keyword">await</span> dlmsClient.<span class="hljs-title function_">set</span>(
    <span class="hljs-string">&#x27;0.0.19.10.0.255&#x27;</span>,  <span class="hljs-comment">// STS token object</span>
    token
  );

  <span class="hljs-comment">// Read new balance</span>
  <span class="hljs-keyword">const</span> balance = <span class="hljs-keyword">await</span> dlmsClient.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;0.0.19.0.0.255&#x27;</span>);

  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Token loaded. New balance: <span class="hljs-subst">${balance}</span> cents`</span>);

  <span class="hljs-keyword">await</span> dlmsClient.<span class="hljs-title function_">disconnect</span>();
}
</code></pre>
<h3 class="text-2xl font-semibold text-gray-900 mb-3 mt-6">Prepaid Meter Behavior</h3>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Low Credit Warnings:</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">Alert at 10% remaining (configurable)</li>
<li class="ml-4">Alert at 5% remaining</li>
<li class="ml-4">Alert at emergency credit activation</li>
</ul>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Emergency Credit:</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">Additional credit (e.g., $2) activated when main balance = $0</li>
<li class="ml-4">Gives tenant time to purchase more</li>
<li class="ml-4">Must be repaid before normal operation resumes</li>
</ul>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Disconnection:</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">Relay opens when balance = $0 and emergency credit exhausted</li>
<li class="ml-4">Display shows &quot;NO CREDIT - PLEASE RECHARGE&quot;</li>
<li class="ml-4">Reconnects automatically when valid token entered</li>
</ul>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Tamper Events:</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">Cover opening → logs event, may alarm</li>
<li class="ml-4">Magnetic tampering → logs event</li>
<li class="ml-4">Bypass detection → disconnects supply</li>
</ul>
<h2 class="text-3xl font-semibold text-gray-900 mb-4 mt-8">Implementation Steps</h2>
<h3 class="text-2xl font-semibold text-gray-900 mb-3 mt-6">Phase 1: Planning &amp; Design (2-4 weeks)</h3>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>1. Site Survey</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">Count number of units requiring sub-meters</li>
<li class="ml-4">Assess electrical distribution layout</li>
<li class="ml-4">Evaluate communication infrastructure options</li>
<li class="ml-4">Identify meter installation locations</li>
</ul>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>2. System Design</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">Select meter type (prepaid vs postpaid)</li>
<li class="ml-4">Choose communication technology (PLC/RF/Ethernet)</li>
<li class="ml-4">Design HES/MDMS architecture</li>
<li class="ml-4">Plan network topology</li>
</ul>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>3. Regulatory Compliance</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">Verify local regulations for sub-metering</li>
<li class="ml-4">Ensure meters meet accuracy standards</li>
<li class="ml-4">Obtain necessary approvals</li>
</ul>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>4. Business Model</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">Define pricing (rate per kWh)</li>
<li class="ml-4">Decide on service charges</li>
<li class="ml-4">Choose prepaid vs postpaid or hybrid</li>
</ul>
<h3 class="text-2xl font-semibold text-gray-900 mb-3 mt-6">Phase 2: Procurement (4-6 weeks)</h3>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Equipment to Purchase:</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">☑ Sub-meters (50 units + 10% spare)</li>
<li class="ml-4">☑ Data concentrator / HES</li>
<li class="ml-4">☑ Communication modules (PLC/RF)</li>
<li class="ml-4">☑ Installation materials (cables, breakers, enclosures)</li>
<li class="ml-4">☑ Server hardware (if on-premise MDMS)</li>
<li class="ml-4">☑ Software licenses (MDMS, vending platform)</li>
</ul>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Vendor Selection Criteria:</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">DLMS/COSEM compliance</li>
<li class="ml-4">STS certification (if prepaid)</li>
<li class="ml-4">Warranty and support</li>
<li class="ml-4">Interoperability with existing systems</li>
</ul>
<h3 class="text-2xl font-semibold text-gray-900 mb-3 mt-6">Phase 3: Installation (6-8 weeks)</h3>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>1. Electrical Work</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">Install sub-meters in distribution boards</li>
<li class="ml-4">Ensure proper grounding and protection</li>
<li class="ml-4">Label circuits clearly</li>
<li class="ml-4">Test meter connections</li>
</ul>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>2. Communication Network</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">Install data concentrator</li>
<li class="ml-4">Deploy PLC couplers or RF repeaters</li>
<li class="ml-4">Configure network parameters</li>
<li class="ml-4">Test communication to all meters</li>
</ul>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>3. System Configuration</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">Commission meters (load encryption keys for STS)</li>
<li class="ml-4">Assign meter IDs and unit numbers</li>
<li class="ml-4">Configure tariffs and pricing</li>
<li class="ml-4">Set up alarm thresholds</li>
</ul>
<h3 class="text-2xl font-semibold text-gray-900 mb-3 mt-6">Phase 4: Software Deployment (2-3 weeks)</h3>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>1. HES Configuration</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">Add all meter endpoints</li>
<li class="ml-4">Configure reading schedules</li>
<li class="ml-4">Set up data collection jobs</li>
<li class="ml-4">Test remote commands (disconnect/reconnect)</li>
</ul>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>2. MDMS Setup</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">Import tenant data</li>
<li class="ml-4">Link tenants to meters</li>
<li class="ml-4">Configure billing rules</li>
<li class="ml-4">Set up automated processes</li>
</ul>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>3. Tenant Portal</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">Deploy web/mobile app</li>
<li class="ml-4">Configure payment gateways</li>
<li class="ml-4">Test token vending</li>
<li class="ml-4">Train customer support team</li>
</ul>
<h3 class="text-2xl font-semibold text-gray-900 mb-3 mt-6">Phase 5: Testing &amp; Go-Live (2-3 weeks)</h3>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>1. System Testing</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">End-to-end data flow validation</li>
<li class="ml-4">Token generation and loading</li>
<li class="ml-4">Billing accuracy verification</li>
<li class="ml-4">Disconnect/reconnect functionality</li>
<li class="ml-4">Alarm and event handling</li>
</ul>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>2. Pilot Phase</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">Start with 5-10 units</li>
<li class="ml-4">Monitor performance daily</li>
<li class="ml-4">Fix any issues</li>
<li class="ml-4">Gather feedback</li>
</ul>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>3. Full Rollout</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">Onboard remaining tenants</li>
<li class="ml-4">Conduct tenant training</li>
<li class="ml-4">Provide user guides</li>
<li class="ml-4">Offer support during transition</li>
</ul>
<h2 class="text-3xl font-semibold text-gray-900 mb-4 mt-8">Cost Analysis</h2>
<h3 class="text-2xl font-semibold text-gray-900 mb-3 mt-6">Typical Costs (50-Unit Apartment)</h3>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Capital Expenditure:</strong></p>
<div class="overflow-x-auto mb-6 border border-gray-200 rounded-lg"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="hover:bg-gray-50"><th class="px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider border-r border-gray-200 last:border-r-0">Item</th><th class="px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider border-r border-gray-200 last:border-r-0">Unit Cost</th><th class="px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider border-r border-gray-200 last:border-r-0">Quantity</th><th class="px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider border-r border-gray-200 last:border-r-0">Total</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="hover:bg-gray-50"><td class="px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0">DLMS/COSEM Sub-meters</td><td class="px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0">$80 - $150</td><td class="px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0">50</td><td class="px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0">$4,000 - $7,500</td></tr><tr class="hover:bg-gray-50"><td class="px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0">Data Concentrator/HES</td><td class="px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0">$2,000 - $5,000</td><td class="px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0">1</td><td class="px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0">$2,000 - $5,000</td></tr><tr class="hover:bg-gray-50"><td class="px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0">Communication Hardware</td><td class="px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0">$50 - $100</td><td class="px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0">50</td><td class="px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0">$2,500 - $5,000</td></tr><tr class="hover:bg-gray-50"><td class="px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0">Installation Labor</td><td class="px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0">$100 - $200</td><td class="px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0">50</td><td class="px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0">$5,000 - $10,000</td></tr><tr class="hover:bg-gray-50"><td class="px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0">MDMS Software License</td><td class="px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0">$5,000 - $15,000</td><td class="px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0">1</td><td class="px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0">$5,000 - $15,000</td></tr><tr class="hover:bg-gray-50"><td class="px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0">Vending Platform</td><td class="px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0">$3,000 - $10,000</td><td class="px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0">1</td><td class="px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0">$3,000 - $10,000</td></tr><tr class="hover:bg-gray-50"><td class="px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0"><strong>Total CapEx</strong></td><td class="px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0"></td><td class="px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0"></td><td class="px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0"><strong>$21,500 - $52,500</strong></td></tr></tbody></table></div>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Operating Expenditure (Annual):</strong></p>
<div class="overflow-x-auto mb-6 border border-gray-200 rounded-lg"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="hover:bg-gray-50"><th class="px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider border-r border-gray-200 last:border-r-0">Item</th><th class="px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider border-r border-gray-200 last:border-r-0">Cost</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="hover:bg-gray-50"><td class="px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0">MDMS subscription / maintenance</td><td class="px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0">$2,000 - $5,000</td></tr><tr class="hover:bg-gray-50"><td class="px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0">Cellular data (if applicable)</td><td class="px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0">$500 - $2,000</td></tr><tr class="hover:bg-gray-50"><td class="px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0">Customer support</td><td class="px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0">$5,000 - $15,000</td></tr><tr class="hover:bg-gray-50"><td class="px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0">Meter maintenance</td><td class="px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0">$1,000 - $3,000</td></tr><tr class="hover:bg-gray-50"><td class="px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0"><strong>Total OpEx</strong></td><td class="px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0"><strong>$8,500 - $25,000</strong></td></tr></tbody></table></div>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Per-Unit Cost:</strong> ~$430 - $1,050 per apartment (CapEx)</p>
<h3 class="text-2xl font-semibold text-gray-900 mb-3 mt-6">Revenue Model</h3>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Electricity Resale:</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4"><strong>Buy bulk:</strong> $0.10 per kWh (commercial rate)</li>
<li class="ml-4"><strong>Sell to tenants:</strong> $0.15 per kWh</li>
<li class="ml-4"><strong>Margin:</strong> $0.05 per kWh</li>
</ul>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Monthly Revenue (Example):</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">Average consumption: 300 kWh per unit</li>
<li class="ml-4">Monthly consumption (50 units): 15,000 kWh</li>
<li class="ml-4">Margin revenue: 15,000 × $0.05 = <strong>$750/month</strong></li>
<li class="ml-4">Annual margin: <strong>$9,000</strong></li>
</ul>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Service Charge:</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">Many properties add service charge: $5-15 per unit/month</li>
<li class="ml-4">50 units × $10 = <strong>$500/month</strong> or <strong>$6,000/year</strong></li>
</ul>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Total Annual Revenue:</strong> $15,000
<strong>ROI Period:</strong> 1.5 - 3.5 years</p>
<h2 class="text-3xl font-semibold text-gray-900 mb-4 mt-8">Key Challenges and Solutions</h2>
<h3 class="text-2xl font-semibold text-gray-900 mb-3 mt-6">Challenge 1: Tenant Resistance</h3>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Problem:</strong> Tenants prefer dealing directly with utility</p>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Solutions:</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">Offer competitive rates</li>
<li class="ml-4">Provide prepaid option for budget control</li>
<li class="ml-4">Give detailed consumption insights</li>
<li class="ml-4">Ensure transparent billing</li>
<li class="ml-4">Maintain excellent customer service</li>
</ul>
<h3 class="text-2xl font-semibold text-gray-900 mb-3 mt-6">Challenge 2: Communication Reliability</h3>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Problem:</strong> Data loss due to network issues</p>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Solutions:</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">Use redundant communication paths</li>
<li class="ml-4">Implement local data storage in meters</li>
<li class="ml-4">Schedule automatic retries</li>
<li class="ml-4">Monitor network health proactively</li>
</ul>
<h3 class="text-2xl font-semibold text-gray-900 mb-3 mt-6">Challenge 3: Billing Disputes</h3>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Problem:</strong> Tenants question accuracy</p>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Solutions:</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">Provide load profile access (hourly consumption)</li>
<li class="ml-4">Install meters with high accuracy class (Class 1 or better)</li>
<li class="ml-4">Allow third-party audits</li>
<li class="ml-4">Maintain comprehensive event logs</li>
<li class="ml-4">Offer comparison with neighbors (anonymized)</li>
</ul>
<h3 class="text-2xl font-semibold text-gray-900 mb-3 mt-6">Challenge 4: Meter Tampering</h3>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Problem:</strong> Revenue loss from bypass</p>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Solutions:</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">Use tamper-evident seals</li>
<li class="ml-4">Enable tamper detection in meters</li>
<li class="ml-4">Monitor for suspicious consumption patterns</li>
<li class="ml-4">Implement immediate disconnect on tamper event</li>
<li class="ml-4">Conduct regular physical inspections</li>
</ul>
<h2 class="text-3xl font-semibold text-gray-900 mb-4 mt-8">Regulatory Considerations</h2>
<h3 class="text-2xl font-semibold text-gray-900 mb-3 mt-6">Meter Accuracy Requirements</h3>
<p class="text-gray-700 mb-4 leading-relaxed">Most jurisdictions require:</p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4"><strong>Accuracy Class:</strong> Class 1 or Class 2 (IEC 62052/62053)</li>
<li class="ml-4"><strong>Testing:</strong> Initial calibration certificate</li>
<li class="ml-4"><strong>Verification:</strong> Periodic testing (every 5-10 years)</li>
<li class="ml-4"><strong>Sealing:</strong> Tamper-evident seals on all covers</li>
</ul>
<h3 class="text-2xl font-semibold text-gray-900 mb-3 mt-6">Sub-Metering Regulations</h3>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Check local requirements for:</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">☑ Permission to resell electricity</li>
<li class="ml-4">☑ Maximum allowed markup on rates</li>
<li class="ml-4">☑ Billing transparency requirements</li>
<li class="ml-4">☑ Consumer protection laws</li>
<li class="ml-4">☑ Data privacy regulations (GDPR, etc.)</li>
</ul>
<h3 class="text-2xl font-semibold text-gray-900 mb-3 mt-6">Tenant Rights</h3>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Must provide:</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">Clear pricing disclosure</li>
<li class="ml-4">Itemized bills</li>
<li class="ml-4">Consumption history</li>
<li class="ml-4">Dispute resolution process</li>
<li class="ml-4">Reasonable notice for rate changes</li>
</ul>
<h2 class="text-3xl font-semibold text-gray-900 mb-4 mt-8">Advanced Features</h2>
<h3 class="text-2xl font-semibold text-gray-900 mb-3 mt-6">Demand Management</h3>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Time-of-Use (TOU) Tariffs:</strong></p>
<pre class="bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto mb-4"><code class="hljs language-javascript"><span class="hljs-comment">// Configure multi-tariff rates</span>
<span class="hljs-keyword">const</span> tariffSchedule = {
  <span class="hljs-attr">peak</span>: {
    <span class="hljs-attr">hours</span>: <span class="hljs-string">&#x27;17:00-21:00&#x27;</span>,
    <span class="hljs-attr">rate</span>: <span class="hljs-number">0.20</span>  <span class="hljs-comment">// $0.20/kWh</span>
  },
  <span class="hljs-attr">offPeak</span>: {
    <span class="hljs-attr">hours</span>: <span class="hljs-string">&#x27;21:00-17:00&#x27;</span>,
    <span class="hljs-attr">rate</span>: <span class="hljs-number">0.10</span>  <span class="hljs-comment">// $0.10/kWh</span>
  },
  <span class="hljs-attr">weekend</span>: {
    <span class="hljs-attr">days</span>: [<span class="hljs-string">&#x27;Saturday&#x27;</span>, <span class="hljs-string">&#x27;Sunday&#x27;</span>],
    <span class="hljs-attr">rate</span>: <span class="hljs-number">0.08</span>  <span class="hljs-comment">// $0.08/kWh</span>
  }
};

<span class="hljs-comment">// Load to meter via DLMS</span>
<span class="hljs-keyword">await</span> dlmsClient.<span class="hljs-title function_">setActivityCalendar</span>(tariffSchedule);
</code></pre>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Benefits:</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">Encourages load shifting</li>
<li class="ml-4">Reduces peak demand charges from utility</li>
<li class="ml-4">Tenants save money by shifting usage</li>
</ul>
<h3 class="text-2xl font-semibold text-gray-900 mb-3 mt-6">Load Limiting</h3>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Prevent Individual Overload:</strong></p>
<pre class="bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto mb-4"><code class="hljs language-javascript"><span class="hljs-comment">// Set maximum demand threshold</span>
<span class="hljs-keyword">await</span> dlmsClient.<span class="hljs-title function_">set</span>(<span class="hljs-string">&#x27;1.0.17.0.0.255&#x27;</span>, {
  <span class="hljs-attr">threshold</span>: <span class="hljs-number">5000</span>,  <span class="hljs-comment">// 5 kW max</span>
  <span class="hljs-attr">duration</span>: <span class="hljs-number">60</span>,     <span class="hljs-comment">// 1 minute</span>
  <span class="hljs-attr">action</span>: <span class="hljs-string">&#x27;disconnect&#x27;</span>
});
</code></pre>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Use Case:</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">Prevent circuit breaker trips</li>
<li class="ml-4">Enforce fair usage policies</li>
<li class="ml-4">Manage total building load</li>
</ul>
<h3 class="text-2xl font-semibold text-gray-900 mb-3 mt-6">Energy Analytics</h3>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Tenant Dashboard Features:</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">Real-time consumption monitoring</li>
<li class="ml-4">Hourly/daily/monthly trends</li>
<li class="ml-4">Cost projections</li>
<li class="ml-4">Comparison with similar units</li>
<li class="ml-4">Efficiency recommendations</li>
</ul>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Property Manager Dashboard:</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">Total building consumption</li>
<li class="ml-4">Per-unit usage patterns</li>
<li class="ml-4">Revenue tracking</li>
<li class="ml-4">Alarm and event summary</li>
<li class="ml-4">Non-technical loss detection</li>
</ul>
<h2 class="text-3xl font-semibold text-gray-900 mb-4 mt-8">Conclusion</h2>
<p class="text-gray-700 mb-4 leading-relaxed">Sub-metering with DLMS/COSEM provides a robust, standardized solution for multi-tenant property electricity billing. The combination of:</p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4"><strong>DLMS/COSEM protocol</strong> - Ensures interoperability and future-proofing</li>
<li class="ml-4"><strong>STS prepaid tokens</strong> - Eliminates bad debt and collection costs</li>
<li class="ml-4"><strong>Remote management</strong> - Reduces operational overhead</li>
<li class="ml-4"><strong>Detailed analytics</strong> - Improves efficiency and tenant satisfaction</li>
</ul>
<p class="text-gray-700 mb-4 leading-relaxed">Makes it an attractive business case with typical ROI of 1.5-3.5 years.</p>
<div class="border-l-4 p-4 mb-4 bg-green-50 border-green-500 text-green-900"><div class="flex items-start"><span class="text-2xl mr-3">✅</span><div class="flex-1"><p class="text-gray-700 mb-4 leading-relaxed"><strong>Next Steps:</strong> Conduct a pilot project with 5-10 units to validate the business model and refine the implementation before full deployment.</p></div></div></div>
<h2 class="text-3xl font-semibold text-gray-900 mb-4 mt-8">Technical Deep-Dive: Addressing and Connectivity</h2>
<h3 class="text-2xl font-semibold text-gray-900 mb-3 mt-6">Static IP vs Dynamic Addressing</h3>
<div class="border-l-4 p-4 mb-4 bg-yellow-50 border-yellow-500 text-yellow-900"><div class="flex items-start"><span class="text-2xl mr-3">⚠️</span><div class="flex-1"><p class="text-gray-700 mb-4 leading-relaxed"><strong>Common Issue:</strong> Since meters act as DLMS servers, how do we address them reliably in a network?</p></div></div></div>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>The Challenge:</strong></p>
<p class="text-gray-700 mb-4 leading-relaxed">In traditional IT networks, servers need static IP addresses so clients know where to connect. However, in sub-metering deployments:</p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">Assigning static IPs to 50+ meters is complex</li>
<li class="ml-4">DHCP (dynamic IPs) means addresses change</li>
<li class="ml-4">Manual IP configuration on each meter is time-consuming</li>
<li class="ml-4">IP conflicts can occur</li>
</ul>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Solutions:</strong></p>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>1. HDLC Over Serial/Optical (No IP Required)</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">Each meter has a physical address (e.g., 0x01, 0x02, ...)</li>
<li class="ml-4">Communication via serial bus (RS-485, M-Bus)</li>
<li class="ml-4">No IP stack needed - HDLC handles addressing</li>
<li class="ml-4">Simple but requires wired infrastructure</li>
</ul>
<pre class="bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto mb-4"><code class="bg-gray-100 text-red-600 px-1.5 py-0.5 rounded text-sm font-mono">Meter 1 (HDLC Address: 0x01) ─┐
Meter 2 (HDLC Address: 0x02) ─┤
Meter 3 (HDLC Address: 0x03) ─┼─── RS-485 Bus ───&gt; Data Concentrator
        ...                    │
Meter N (HDLC Address: 0x32) ─┘
</code></pre>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>2. Data Concentrator as Gateway (Recommended)</strong></p>
<p class="text-gray-700 mb-4 leading-relaxed">Instead of direct meter-to-HES communication, use a local concentrator:</p>
<pre class="bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto mb-4"><code class="bg-gray-100 text-red-600 px-1.5 py-0.5 rounded text-sm font-mono">HES (Cloud/Server)
    │
    │ Single IP connection
    ▼
Data Concentrator (192.168.1.100)
    │
    ├── PLC Network (no IPs, uses MAC addresses)
    │   ├── Meter 1
    │   ├── Meter 2
    │   └── Meter 3
    │
    └── RF Mesh (no IPs, uses RF node IDs)
        ├── Meter 4
        ├── Meter 5
        └── Meter 6
</code></pre>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>How it works:</strong></p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">Concentrator has ONE static IP (or uses cellular with dynamic IP + VPN)</li>
<li class="ml-4">Meters use MAC addresses or logical node IDs (not IP addresses)</li>
<li class="ml-4">HES connects to concentrator, which routes to specific meters</li>
<li class="ml-4">Concentrator maintains meter inventory and routing table</li>
</ul>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Example DLMS Connection via Concentrator:</strong></p>
<pre class="bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto mb-4"><code class="hljs language-javascript"><span class="hljs-comment">// HES connects to concentrator</span>
<span class="hljs-keyword">const</span> concentrator = <span class="hljs-keyword">await</span> <span class="hljs-title function_">connect</span>(<span class="hljs-string">&#x27;192.168.1.100:4059&#x27;</span>);

<span class="hljs-comment">// Request connection to specific meter via logical address</span>
<span class="hljs-keyword">const</span> meterConnection = <span class="hljs-keyword">await</span> concentrator.<span class="hljs-title function_">routeTo</span>({
  <span class="hljs-attr">logicalAddress</span>: <span class="hljs-string">&#x27;METER_UNIT_101&#x27;</span>,  <span class="hljs-comment">// or MAC, or serial number</span>
  <span class="hljs-attr">physicalAddress</span>: <span class="hljs-number">0x01</span>              <span class="hljs-comment">// Internal concentrator routing</span>
});

<span class="hljs-comment">// Now communicate with meter through concentrator tunnel</span>
<span class="hljs-keyword">const</span> energy = <span class="hljs-keyword">await</span> meterConnection.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;1.0.1.8.0.255&#x27;</span>);
</code></pre>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>3. DLMS Wrapper Protocol with DHCP + DNS</strong></p>
<p class="text-gray-700 mb-4 leading-relaxed">For TCP/IP networks where dynamic addressing is unavoidable:</p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">Use DHCP for automatic IP assignment</li>
<li class="ml-4">Implement local DNS or mDNS (Multicast DNS)</li>
<li class="ml-4">Meters register themselves by serial number</li>
<li class="ml-4">HES resolves meter by name, not IP</li>
</ul>
<pre class="bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto mb-4"><code class="hljs language-javascript"><span class="hljs-comment">// Instead of connecting to IP address</span>
<span class="hljs-keyword">const</span> meter = <span class="hljs-keyword">await</span> dlmsClient.<span class="hljs-title function_">connect</span>(<span class="hljs-string">&#x27;192.168.1.45:4059&#x27;</span>);  <span class="hljs-comment">// ✗ IP changes</span>

<span class="hljs-comment">// Connect by meter serial number (DNS/mDNS resolves to current IP)</span>
<span class="hljs-keyword">const</span> meter = <span class="hljs-keyword">await</span> dlmsClient.<span class="hljs-title function_">connect</span>(<span class="hljs-string">&#x27;meter://12345678&#x27;</span>);  <span class="hljs-comment">// ✓ Works even if IP changes</span>
</code></pre>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Implementation:</strong></p>
<pre class="bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto mb-4"><code class="hljs language-javascript"><span class="hljs-comment">// Meter registers itself on network boot</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MeterDNSRegistration</span> {
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">registerMeter</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">const</span> meterSerial = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getSerialNumber</span>();
    <span class="hljs-keyword">const</span> currentIP = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getCurrentIP</span>();

    <span class="hljs-comment">// Register with local DNS or concentrator</span>
    <span class="hljs-keyword">await</span> dns.<span class="hljs-title function_">register</span>({
      <span class="hljs-attr">name</span>: <span class="hljs-string">`meter-<span class="hljs-subst">${meterSerial}</span>`</span>,  <span class="hljs-comment">// e.g., meter-12345678</span>
      <span class="hljs-attr">ip</span>: currentIP,
      <span class="hljs-attr">ttl</span>: <span class="hljs-number">300</span>  <span class="hljs-comment">// Update every 5 minutes</span>
    });
  }
}
</code></pre>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>4. VPN with Reserved DHCP Leases</strong></p>
<p class="text-gray-700 mb-4 leading-relaxed">For cellular/WAN deployments:</p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">Use VPN (concentrator connects to cloud HES via VPN)</li>
<li class="ml-4">DHCP server reserves specific IP based on MAC address</li>
<li class="ml-4">Meters always get same IP (quasi-static)</li>
</ul>
<pre class="bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto mb-4"><code class="bg-gray-100 text-red-600 px-1.5 py-0.5 rounded text-sm font-mono"># DHCP server configuration
host meter-unit-101 {
  hardware ethernet 00:11:22:33:44:55;
  fixed-address 10.50.1.101;
}

host meter-unit-102 {
  hardware ethernet 00:11:22:33:44:66;
  fixed-address 10.50.1.102;
}
</code></pre>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>5. Application-Layer Addressing (Best Practice)</strong></p>
<p class="text-gray-700 mb-4 leading-relaxed">DLMS/COSEM has built-in addressing that&#x27;s independent of network layer:</p>
<pre class="bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto mb-4"><code class="hljs language-javascript"><span class="hljs-comment">// DLMS connection parameters</span>
<span class="hljs-keyword">const</span> connectionParams = {
  <span class="hljs-comment">// Physical address (doesn&#x27;t depend on IP)</span>
  <span class="hljs-attr">serverAddress</span>: {
    <span class="hljs-attr">logicalDeviceAddress</span>: <span class="hljs-number">1</span>,      <span class="hljs-comment">// Meter ID</span>
    <span class="hljs-attr">physicalDeviceAddress</span>: <span class="hljs-number">0x01</span>   <span class="hljs-comment">// HDLC address</span>
  },

  <span class="hljs-attr">clientAddress</span>: <span class="hljs-number">16</span>,               <span class="hljs-comment">// HES address</span>

  <span class="hljs-comment">// Transport can be anything</span>
  <span class="hljs-attr">transport</span>: {
    <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;tcp&#x27;</span>,
    <span class="hljs-attr">host</span>: concentratorIP,          <span class="hljs-comment">// Only concentrator needs static/known IP</span>
    <span class="hljs-attr">port</span>: <span class="hljs-number">4059</span>
  },

  <span class="hljs-comment">// Meter identification (from Association object)</span>
  <span class="hljs-attr">systemTitle</span>: <span class="hljs-string">&#x27;4D544831303031&#x27;</span>,   <span class="hljs-comment">// Unique meter identifier</span>
  <span class="hljs-attr">serialNumber</span>: <span class="hljs-string">&#x27;12345678&#x27;</span>
};
</code></pre>
<p class="text-gray-700 mb-4 leading-relaxed">The HES maintains a <strong>meter inventory database</strong>:</p>
<pre class="bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto mb-4"><code class="hljs language-javascript"><span class="hljs-keyword">const</span> meterInventory = [
  {
    <span class="hljs-attr">serialNumber</span>: <span class="hljs-string">&#x27;12345678&#x27;</span>,
    <span class="hljs-attr">unitNumber</span>: <span class="hljs-string">&#x27;101&#x27;</span>,
    <span class="hljs-attr">systemTitle</span>: <span class="hljs-string">&#x27;4D544831303031&#x27;</span>,
    <span class="hljs-attr">communicationPath</span>: {
      <span class="hljs-attr">concentratorIP</span>: <span class="hljs-string">&#x27;192.168.1.100&#x27;</span>,
      <span class="hljs-attr">logicalAddress</span>: <span class="hljs-number">0x01</span>
    }
  },
  {
    <span class="hljs-attr">serialNumber</span>: <span class="hljs-string">&#x27;12345679&#x27;</span>,
    <span class="hljs-attr">unitNumber</span>: <span class="hljs-string">&#x27;102&#x27;</span>,
    <span class="hljs-attr">systemTitle</span>: <span class="hljs-string">&#x27;4D544831303032&#x27;</span>,
    <span class="hljs-attr">communicationPath</span>: {
      <span class="hljs-attr">concentratorIP</span>: <span class="hljs-string">&#x27;192.168.1.100&#x27;</span>,
      <span class="hljs-attr">logicalAddress</span>: <span class="hljs-number">0x02</span>
    }
  }
];

<span class="hljs-comment">// Connect by serial number, not by IP</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">connectToMeter</span>(<span class="hljs-params">serialNumber</span>) {
  <span class="hljs-keyword">const</span> meter = meterInventory.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">m</span> =&gt;</span> m.<span class="hljs-property">serialNumber</span> === serialNumber);

  <span class="hljs-comment">// Connect to concentrator first</span>
  <span class="hljs-keyword">const</span> concentrator = <span class="hljs-keyword">await</span> <span class="hljs-title function_">connect</span>(meter.<span class="hljs-property">communicationPath</span>.<span class="hljs-property">concentratorIP</span>);

  <span class="hljs-comment">// Route to specific meter using logical address</span>
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> concentrator.<span class="hljs-title function_">routeToMeter</span>(meter.<span class="hljs-property">communicationPath</span>.<span class="hljs-property">logicalAddress</span>);
}
</code></pre>
<p class="text-gray-700 mb-4 leading-relaxed"><strong>Recommendation for Sub-Metering:</strong></p>
<p class="text-gray-700 mb-4 leading-relaxed">✅ <strong>Use Data Concentrator as Gateway</strong> - This is the industry-standard approach:</p>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4">Concentrator has one static IP (or cellular with VPN)</li>
<li class="ml-4">Meters use PLC/RF with logical addressing (no IPs)</li>
<li class="ml-4">HES connects to concentrator, not directly to meters</li>
<li class="ml-4">Scalable, reliable, no IP management headache</li>
</ul>
<h2 class="text-3xl font-semibold text-gray-900 mb-4 mt-8">Related Resources</h2>
<ul class="list-disc list-inside mb-4 space-y-2 text-gray-700">
<li class="ml-4"><a class="text-blue-600 hover:text-blue-700 underline" href="/protocols/">Communication Protocols</a> - Understanding DLMS/COSEM protocol</li>
<li class="ml-4"><a class="text-blue-600 hover:text-blue-700 underline" href="/learn/obis-codes/">OBIS Codes</a> - Meter data identification</li>
<li class="ml-4"><a class="text-blue-600 hover:text-blue-700 underline" href="/learn/getting-started/">Getting Started</a> - Development setup</li>
<li class="ml-4"><a class="text-blue-600 hover:text-blue-700 underline" href="/learn/interactive-examples/">Interactive Examples</a> - Code samples</li>
<li class="ml-4"><a class="text-blue-600 hover:text-blue-700 underline" href="/learn/communication-profiles/">Communication Profiles</a> - HDLC, TCP/IP wrapper details</li>
</ul><!--$--><!--/$--></article></main></div></div><footer class="bg-gray-900 text-white py-8 mt-16"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center"><p class="text-gray-400">© 2025 MeterHub. Educational platform for smart metering professionals.</p></div></footer></div><script src="/_next/static/chunks/webpack-b324d02f34a87c55.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[4225,[],\"\"]\n3:I[9397,[],\"\"]\n4:I[740,[\"740\",\"static/chunks/740-f45b012b8bf2d21f.js\",\"904\",\"static/chunks/app/business/sub-metering/page-f16385889fc3e8f1.js\"],\"\"]\n9:I[9331,[],\"\"]\n:HL[\"/_next/static/css/e90084642ea679c3.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"ryJ1hqDFRRYDqjJ7QQbeJ\",\"p\":\"\",\"c\":[\"\",\"business\",\"sub-metering\",\"\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"business\",{\"children\":[\"sub-metering\",{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/e90084642ea679c3.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"antialiased\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]]}],{\"children\":[\"business\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"div\",null,{\"className\":\"min-h-screen bg-gray-50\",\"children\":[[\"$\",\"nav\",null,{\"className\":\"bg-white shadow-sm\",\"children\":[\"$\",\"div\",null,{\"className\":\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex justify-between h-16 items-center\",\"children\":[[\"$\",\"$L4\",null,{\"href\":\"/\",\"className\":\"text-2xl font-bold text-blue-600\",\"children\":\"MeterHub\"}],[\"$\",\"div\",null,{\"className\":\"hidden md:flex space-x-8\",\"children\":[[\"$\",\"$L4\",null,{\"href\":\"/\",\"className\":\"text-gray-700 hover:text-blue-600\",\"children\":\"Home\"}],[\"$\",\"$L4\",null,{\"href\":\"/fundamentals\",\"className\":\"text-gray-700 hover:text-blue-600\",\"children\":\"Fundamentals\"}],[\"$\",\"$L4\",null,{\"href\":\"/protocols\",\"className\":\"text-gray-700 hover:text-blue-600\",\"children\":\"Protocols\"}],[\"$\",\"$L4\",null,{\"href\":\"/business\",\"className\":\"text-blue-600 font-medium\",\"children\":\"Business\"}],[\"$\",\"$L4\",null,{\"href\":\"/resources\",\"className\":\"text-gray-700 hover:text-blue-600\",\"children\":\"Resources\"}]]}]]}]}]}],[\"$\",\"div\",null,{\"className\":\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",\"children\":[\"$\",\"div\",null,{\"className\":\"grid grid-cols-1 lg:grid-cols-4 gap-8\",\"children\":[[\"$\",\"aside\",null,{\"className\":\"lg:col-span-1\",\"children\":[\"$\",\"div\",null,{\"className\":\"bg-white rounded-lg shadow-sm p-6 sticky top-8\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"font-semibold text-gray-900 mb-4\",\"children\":\"Business Cases\"}],[\"$\",\"nav\",null,{\"className\":\"space-y-2\",\"children\":[[\"$\",\"$L4\",null,{\"href\":\"/business\",\"className\":\"block text-gray-700 hover:text-blue-600 py-1\",\"children\":\"Overview\"}],[\"$\",\"$L4\",null,{\"href\":\"/business/sub-metering\",\"className\":\"block text-gray-700 hover:text-blue-600 py-1\",\"children\":\"Sub-Metering Solutions\"}]]}],[\"$\",\"div\",null,{\"className\":\"mt-6 pt-6 border-t border-gray-200\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"font-semibold text-gray-900 mb-3 text-sm\",\"children\":\"Quick Links\"}],[\"$\",\"nav\",null,{\"className\":\"space-y-2 text-sm\",\"children\":[[\"$\",\"$L4\",null,{\"href\":\"/fundamentals\",\"className\":\"block text-gray-600 hover:text-blue-600 py-1\",\"children\":\"→ Fundamentals\"}],[\"$\",\"$L4\",null,{\"href\":\"/protocols\",\"className\":\"block text-gray-600 hover:text-blue-600 py-1\",\"children\":\"→ Protocols\"}],[\"$\",\"$L4\",null,{\"href\":\"/learn/getting-started\",\"className\":\"block text-gray-600 hover:text-blue-600 py-1\",\"children\":\"→ Getting Started\"}]]}]]}]]}]}],[\"$\",\"main\",null,{\"className\":\"lg:col-span-3\",\"children\":[\"$\",\"article\",null,{\"className\":\"bg-white rounded-lg shadow-sm p-8 prose prose-blue max-w-none\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]]}]}],\"$L5\"]}]]}],{\"children\":[\"sub-metering\",\"$L6\",{\"children\":[\"__PAGE__\",\"$L7\",{},null,false]},null,false]},null,false]},null,false],\"$L8\",false]],\"m\":\"$undefined\",\"G\":[\"$9\",[]],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"d4:I[8932,[],\"ViewportBoundary\"]\nd6:I[8932,[],\"MetadataBoundary\"]\nd7:\"$Sreact.suspense\"\n5:[\"$\",\"footer\",null,{\"className\":\"bg-gray-900 text-white py-8 mt-16\",\"children\":[\"$\",\"div\",null,{\"className\":\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center\",\"children\":[\"$\",\"p\",null,{\"className\":\"text-gray-400\",\"children\":\"© 2025 MeterHub. Educational platform for smart metering professionals.\"}]}]}]\n6:[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}]\na:Tc50,"])</script><script>self.__next_f.push([1,"┌─────────────────────────────────────────────────────────────────┐\n│                       UTILITY GRID                               │\n│                     (Bulk Power Supply)                          │\n└────────────────────────────┬────────────────────────────────────┘\n                             │\n                    ┌────────▼─────────┐\n                    │  Master Meter    │ ◄── Utility's meter\n                    │  (Main Intake)   │     (measures total consumption)\n                    └────────┬─────────┘\n                             │\n              ┌──────────────┴──────────────┐\n              │   Building Distribution     │\n              │   (Breaker Panel/DB)        │\n              └──────────────┬──────────────┘\n                             │\n        ┌────────────────────┼────────────────────┐\n        │                    │                    │\n   ┌────▼─────┐        ┌────▼─────┐        ┌────▼─────┐\n   │Sub-Meter │        │Sub-Meter │        │Sub-Meter │\n   │ Unit 101 │        │ Unit 102 │   ...  │ Unit 201 │\n   │ (Server) │        │ (Server) │        │ (Server) │\n   └────┬─────┘        └────┬─────┘        └────┬─────┘\n        │                   │                    │\n        └───────────────────┼────────────────────┘\n                            │\n                 ┌──────────▼──────────┐\n                 │  Data Concentrator  │ ◄── Collects data from\n                 │   or HES (Client)   │     all sub-meters\n                 └──────────┬──────────┘\n                            │\n                 ┌──────────▼──────────┐\n                 │       MDMS          │ ◄── Processes data,\n                 │  Billing System     │     generates bills\n                 └──────────┬──────────┘\n                            │\n                 ┌──────────▼──────────┐\n                 │  Tenant Portal      │ ◄── Tenants view\n                 │  Vending System     │     usage \u0026 buy tokens\n                 └─────────────────────┘\n"])</script><script>self.__next_f.push([1,"7:[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"h1\",null,{\"className\":\"text-4xl font-bold text-gray-900 mb-6 mt-8\",\"children\":\"Sub-Metering for Multi-Tenant Properties\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":\"A comprehensive guide to implementing DLMS/COSEM-based sub-metering solutions for apartments, condominiums, commercial buildings, and multi-tenant properties.\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"border-l-4 p-4 mb-4 bg-blue-50 border-blue-500 text-blue-900\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-start\",\"children\":[[\"$\",\"span\",null,{\"className\":\"text-2xl mr-3\",\"children\":\"ℹ️\"}],[\"$\",\"div\",null,{\"className\":\"flex-1\",\"children\":[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"Business Model:\"}],\" Property owner purchases bulk electricity from utility, then resells to individual tenants using sub-meters for accurate billing.\"]}]}]]}]}],\"\\n\",[\"$\",\"h2\",null,{\"className\":\"text-3xl font-semibold text-gray-900 mb-4 mt-8\",\"children\":\"Understanding the Architecture\"}],\"\\n\",[\"$\",\"h3\",null,{\"className\":\"text-2xl font-semibold text-gray-900 mb-3 mt-6\",\"children\":\"System Terminology\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"DLMS/COSEM Communication Model:\"}]}],\"\\n\",[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"Meter (DLMS Server)\"}],\" - The smart meter device that stores consumption data and responds to requests\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"Client Application\"}],\" - Software that reads data from meters (sends GET/SET requests)\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"Head-End System (HES)\"}],\" or \",[\"$\",\"strong\",null,{\"children\":\"Data Concentrator\"}],\" - Central server that manages communication with multiple meters\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"Meter Data Management System (MDMS)\"}],\" - Backend system for data processing, validation, and billing\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"border-l-4 p-4 mb-4 bg-purple-50 border-purple-500 text-purple-900\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-start\",\"children\":[[\"$\",\"span\",null,{\"className\":\"text-2xl mr-3\",\"children\":\"💡\"}],[\"$\",\"div\",null,{\"className\":\"flex-1\",\"children\":[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"In DLMS terminology, the \",[\"$\",\"strong\",null,{\"children\":\"meter is the server\"}],\" (it serves data), and the \",[\"$\",\"strong\",null,{\"children\":\"reading application is the client\"}],\" (it requests data).\"]}]}]]}]}],\"\\n\",[\"$\",\"h3\",null,{\"className\":\"text-2xl font-semibold text-gray-900 mb-3 mt-6\",\"children\":\"Sub-Metering System Architecture\"}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto mb-4\",\"children\":[\"$\",\"code\",null,{\"className\":\"bg-gray-100 text-red-600 px-1.5 py-0.5 rounded text-sm font-mono\",\"children\":\"$a\"}]}],\"\\n\",\"$Lb\",\"\\n\",\"$Lc\",\"\\n\",\"$Ld\",\"\\n\",\"$Le\",\"\\n\",\"$Lf\",\"\\n\",\"$L10\",\"\\n\",\"$L11\",\"\\n\",\"$L12\",\"\\n\",\"$L13\",\"\\n\",\"$L14\",\"\\n\",\"$L15\",\"\\n\",\"$L16\",\"\\n\",\"$L17\",\"\\n\",\"$L18\",\"\\n\",\"$L19\",\"\\n\",\"$L1a\",\"\\n\",\"$L1b\",\"\\n\",\"$L1c\",\"\\n\",\"$L1d\",\"\\n\",\"$L1e\",\"\\n\",\"$L1f\",\"\\n\",\"$L20\",\"\\n\",\"$L21\",\"\\n\",\"$L22\",\"\\n\",\"$L23\",\"\\n\",\"$L24\",\"\\n\",\"$L25\",\"\\n\",\"$L26\",\"\\n\",\"$L27\",\"\\n\",\"$L28\",\"\\n\",\"$L29\",\"\\n\",\"$L2a\",\"\\n\",\"$L2b\",\"\\n\",\"$L2c\",\"\\n\",\"$L2d\",\"\\n\",\"$L2e\",\"\\n\",\"$L2f\",\"\\n\",\"$L30\",\"\\n\",\"$L31\",\"\\n\",\"$L32\",\"\\n\",\"$L33\",\"\\n\",\"$L34\",\"\\n\",\"$L35\",\"\\n\",\"$L36\",\"\\n\",\"$L37\",\"\\n\",\"$L38\",\"\\n\",\"$L39\",\"\\n\",\"$L3a\",\"\\n\",\"$L3b\",\"\\n\",\"$L3c\",\"\\n\",\"$L3d\",\"\\n\",\"$L3e\",\"\\n\",\"$L3f\",\"\\n\",\"$L40\",\"\\n\",\"$L41\",\"\\n\",\"$L42\",\"\\n\",\"$L43\",\"\\n\",\"$L44\",\"\\n\",\"$L45\",\"\\n\",\"$L46\",\"\\n\",\"$L47\",\"\\n\",\"$L48\",\"\\n\",\"$L49\",\"\\n\",\"$L4a\",\"\\n\",\"$L4b\",\"\\n\",\"$L4c\",\"\\n\",\"$L4d\",\"\\n\",\"$L4e\",\"\\n\",\"$L4f\",\"\\n\",\"$L50\",\"\\n\",\"$L51\",\"\\n\",\"$L52\",\"\\n\",\"$L53\",\"\\n\",\"$L54\",\"\\n\",\"$L55\",\"\\n\",\"$L56\",\"\\n\",\"$L57\",\"\\n\",\"$L58\",\"\\n\",\"$L59\",\"\\n\",\"$L5a\",\"\\n\",\"$L5b\",\"\\n\",\"$L5c\",\"\\n\",\"$L5d\",\"\\n\",\"$L5e\",\"\\n\",\"$L5f\",\"\\n\",\"$L60\",\"\\n\",\"$L61\",\"\\n\",\"$L62\",\"\\n\",\"$L63\",\"\\n\",\"$L64\",\"\\n\",\"$L65\",\"\\n\",\"$L66\",\"\\n\",\"$L67\",\"\\n\",\"$L68\",\"\\n\",\"$L69\",\"\\n\",\"$L6a\",\"\\n\",\"$L6b\",\"\\n\",\"$L6c\",\"\\n\",\"$L6d\",\"\\n\",\"$L6e\",\"\\n\",\"$L6f\",\"\\n\",\"$L70\",\"\\n\",\"$L71\",\"\\n\",\"$L72\",\"\\n\",\"$L73\",\"\\n\",\"$L74\",\"\\n\",\"$L75\",\"\\n\",\"$L76\",\"\\n\",\"$L77\",\"\\n\",\"$L78\",\"\\n\",\"$L79\",\"\\n\",\"$L7a\",\"\\n\",\"$L7b\",\"\\n\",\"$L7c\",\"\\n\",\"$L7d\",\"\\n\",\"$L7e\",\"\\n\",\"$L7f\",\"\\n\",\"$L80\",\"\\n\",\"$L81\",\"\\n\",\"$L82\",\"\\n\",\"$L83\",\"\\n\",\"$L84\",\"\\n\",\"$L85\",\"\\n\",\"$L86\",\"\\n\",\"$L87\",\"\\n\",\"$L88\",\"\\n\",\"$L89\",\"\\n\",\"$L8a\",\"\\n\",\"$L8b\",\"\\n\",\"$L8c\",\"\\n\",\"$L8d\",\"\\n\",\"$L8e\",\"\\n\",\"$L8f\",\"\\n\",\"$L90\",\"\\n\",\"$L91\",\"\\n\",\"$L92\",\"\\n\",\"$L93\",\"\\n\",\"$L94\",\"\\n\",\"$L95\",\"\\n\",\"$L96\",\"\\n\",\"$L97\",\"\\n\",\"$L98\",\"\\n\",\"$L99\",\"\\n\",\"$L9a\",\"\\n\",\"$L9b\",\"\\n\",\"$L9c\",\"\\n\",\"$L9d\",\"\\n\",\"$L9e\",\"\\n\",\"$L9f\",\"\\n\",\"$La0\",\"\\n\",\"$La1\",\"\\n\",\"$La2\",\"\\n\",\"$La3\",\"\\n\",\"$La4\",\"\\n\",\"$La5\",\"\\n\",\"$La6\",\"\\n\",\"$La7\",\"\\n\",\"$La8\",\"\\n\",\"$La9\",\"\\n\",\"$Laa\",\"\\n\",\"$Lab\",\"\\n\",\"$Lac\",\"\\n\",\"$Lad\",\"\\n\",\"$Lae\",\"\\n\",\"$Laf\",\"\\n\",\"$Lb0\",\"\\n\",\"$Lb1\",\"\\n\",\"$Lb2\",\"\\n\",\"$Lb3\",\"\\n\",\"$Lb4\",\"\\n\",\"$Lb5\",\"\\n\",\"$Lb6\",\"\\n\",\"$Lb7\",\"\\n\",\"$Lb8\",\"\\n\",\"$Lb9\",\"\\n\",\"$Lba\",\"\\n\",\"$Lbb\",\"\\n\",\"$Lbc\",\"\\n\",\"$Lbd\",\"\\n\",\"$Lbe\",\"\\n\",\"$Lbf\",\"\\n\",\"$Lc0\",\"\\n\",\"$Lc1\",\"\\n\",\"$Lc2\",\"\\n\",\"$Lc3\",\"\\n\",\"$Lc4\",\"\\n\",\"$Lc5\",\"\\n\",\"$Lc6\",\"\\n\",\"$Lc7\",\"\\n\",\"$Lc8\",\"\\n\",\"$Lc9\",\"\\n\",\"$Lca\",\"\\n\",\"$Lcb\",\"\\n\",\"$Lcc\",\"\\n\",\"$Lcd\",\"\\n\",\"$Lce\",\"\\n\",\"$Lcf\",\"\\n\",\"$Ld0\",\"\\n\",\"$Ld1\",\"\\n\",\"$Ld2\"],null,\"$Ld3\"]}]\n"])</script><script>self.__next_f.push([1,"8:[\"$\",\"$1\",\"h\",{\"children\":[null,[[\"$\",\"$Ld4\",null,{\"children\":\"$Ld5\"}],null],[\"$\",\"$Ld6\",null,{\"children\":[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$d7\",null,{\"fallback\":null,\"children\":\"$Ld8\"}]}]}]]}]\n"])</script><script>self.__next_f.push([1,"f2:I[8932,[],\"OutletBoundary\"]\nf4:I[3213,[],\"AsyncMetadataOutlet\"]\nb:[\"$\",\"h2\",null,{\"className\":\"text-3xl font-semibold text-gray-900 mb-4 mt-8\",\"children\":\"Business Case: Multi-Tenant Property Sub-Metering\"}]\nc:[\"$\",\"h3\",null,{\"className\":\"text-2xl font-semibold text-gray-900 mb-3 mt-6\",\"children\":\"Scenario\"}]\nd:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"Property Type:\"}],\" 50-unit apartment building or condominium\\n\",[\"$\",\"strong\",null,{\"children\":\"Owner:\"}],\" Property management company or landlord\\n\",[\"$\",\"strong\",null,{\"children\":\"Tenants:\"}],\" Individual apartment residents\\n\",[\"$\",\"strong\",null,{\"children\":\"Utility Arrangement:\"}],\" Bulk electricity supply to property owner\"]}]\ne:[\"$\",\"h3\",null,{\"className\":\"text-2xl font-semibold text-gray-900 mb-3 mt-6\",\"children\":\"Stakeholders and Their Roles\"}]\nf:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"1. Utility Company\"}]}]\n10:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Supplies bulk electricity to the property\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[\"Installs and maintains \",[\"$\",\"strong\",null,{\"children\":\"master meter\"}],\" at main intake\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Bills property owner for total consumption\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Not involved in individual tenant billing\"}],\"\\n\"]}]\n11:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"2. Property Owner/Manager\"}]}]\n12:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Purchases electricity in bulk (often at commercial rates)\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[\"Installs \",[\"$\",\"strong\",null,{\"children\":\"sub-meters\"}],\" in each unit\"]}],\"\\n\",[\"$\","])</script><script>self.__next_f.push([1,"\"li\",null,{\"className\":\"ml-4\",\"children\":\"Operates Head-End System (HES) to collect meter data\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Bills tenants for individual consumption\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"May add service charge/margin on electricity\"}],\"\\n\"]}]\n13:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"3. Tenants\"}]}]\n14:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Consume electricity measured by sub-meter\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Pay property owner (not utility directly)\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"May use prepaid or postpaid billing\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Access consumption data via tenant portal\"}],\"\\n\"]}]\n15:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"4. Sub-Metering Service Provider\"}],\" (Optional)\"]}]\n16:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Installs and maintains sub-meters\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Operates HES/MDMS infrastructure\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Provides billing software\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Offers tenant vending platform\"}],\"\\n\"]}]\n17:[\"$\",\"h2\",null,{\"className\":\"text-3xl font-semibold text-gray-900 mb-4 mt-8\",\"children\":\"Technical Implementation\"}]\n18:[\"$\",\"h3\",null,{\"className\":\"text-2xl font-semibold text-gray-900 mb-3 mt-6\",\"children\":\"1. Sub-Meter Specifications\"}]\n19:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Required Features:\"}]}]\n"])</script><script>self.__next_f.push([1,"1a:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[\"✅ \",[\"$\",\"strong\",null,{\"children\":\"DLMS/COSEM compliance\"}],\" - Standard protocol for data exchange\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[\"✅ \",[\"$\",\"strong\",null,{\"children\":\"Tamper detection\"}],\" - Detects bypass, cover opening, magnetic interference\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[\"✅ \",[\"$\",\"strong\",null,{\"children\":\"Load profile recording\"}],\" - Stores consumption patterns (15-min/30-min intervals)\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[\"✅ \",[\"$\",\"strong\",null,{\"children\":\"Prepaid capability\"}],\" - Supports STS (Standard Transfer Specification) tokens\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[\"✅ \",[\"$\",\"strong\",null,{\"children\":\"Remote disconnect/reconnect\"}],\" - Control relay via COSEM commands\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[\"✅ \",[\"$\",\"strong\",null,{\"children\":\"Multi-tariff support\"}],\" - Time-of-use pricing (peak/off-peak)\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[\"✅ \",[\"$\",\"strong\",null,{\"children\":\"Event logging\"}],\" - Records power outages, tampering, low credit warnings\"]}],\"\\n\"]}]\n"])</script><script>self.__next_f.push([1,"1b:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Common OBIS Codes Used:\"}]}]\n"])</script><script>self.__next_f.push([1,"1c:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"code\",null,{\"className\":\"bg-gray-100 text-red-600 px-1.5 py-0.5 rounded text-sm font-mono\",\"children\":\"1.0.1.8.0.255\"}],\" - Total active energy (kWh)\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"code\",null,{\"className\":\"bg-gray-100 text-red-600 px-1.5 py-0.5 rounded text-sm font-mono\",\"children\":\"1.0.1.7.0.255\"}],\" - Instantaneous power (kW)\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"code\",null,{\"className\":\"bg-gray-100 text-red-600 px-1.5 py-0.5 rounded text-sm font-mono\",\"children\":\"0.0.96.1.0.255\"}],\" - Meter serial number\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"code\",null,{\"className\":\"bg-gray-100 text-red-600 px-1.5 py-0.5 rounded text-sm font-mono\",\"children\":\"0.0.96.3.10.255\"}],\" - Disconnect control object\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"code\",null,{\"className\":\"bg-gray-100 text-red-600 px-1.5 py-0.5 rounded text-sm font-mono\",\"children\":\"0.0.99.1.0.255\"}],\" - Load profile data\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"code\",null,{\"className\":\"bg-gray-100 text-red-600 px-1.5 py-0.5 rounded text-sm font-mono\",\"children\":\"0.0.97.97.0.255\"}],\" - Error/event register\"]}],\"\\n\"]}]\n"])</script><script>self.__next_f.push([1,"1d:[\"$\",\"h3\",null,{\"className\":\"text-2xl font-semibold text-gray-900 mb-3 mt-6\",\"children\":\"2. Communication Infrastructure\"}]\n1e:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Option A: Power Line Communication (PLC)\"}]}]\n1f:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Data transmitted over existing electrical wiring\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"No additional cabling required\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Cost-effective for buildings\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Typical range: 300m\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Bandwidth: 10-500 kbps\"}],\"\\n\"]}]\n20:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Option B: RF Mesh Network\"}]}]\n21:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Wireless mesh topology\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Each meter acts as repeater\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Good coverage and reliability\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Typical range: 100-300m per hop\"}],\"\\n\"]}]\n22:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Option C: Ethernet/RS-485\"}]}]\n23:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Wired connection to data concentrator\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Most reliable but requires cabling\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Suitable for new construction\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Higher installation cost\"}],\"\\n\"]}]\n24:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relax"])</script><script>self.__next_f.push([1,"ed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Option D: Cellular (GSM/4G/NB-IoT)\"}]}]\n25:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Each meter has SIM card\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Independent connectivity\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Higher operating cost (SIM charges)\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Good for scattered properties\"}],\"\\n\"]}]\n26:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"Recommended for Apartments:\"}],\" PLC or RF Mesh (no extra cabling needed)\"]}]\n27:[\"$\",\"h3\",null,{\"className\":\"text-2xl font-semibold text-gray-900 mb-3 mt-6\",\"children\":\"3. Head-End System (HES) / Data Concentrator\"}]\n28:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Functions:\"}]}]\n"])</script><script>self.__next_f.push([1,"29:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"Meter Discovery\"}],\" - Automatically detects and registers new meters\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"Data Collection\"}],\" - Periodically reads consumption data (daily/hourly)\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"Load Profile Retrieval\"}],\" - Fetches historical consumption patterns\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"Remote Commands\"}],\" - Issues disconnect/reconnect, tariff updates\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"Alarm Management\"}],\" - Monitors tamper events, power failures\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"Firmware Updates\"}],\" - Updates meter software remotely\"]}],\"\\n\"]}]\n"])</script><script>self.__next_f.push([1,"2a:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Deployment Options:\"}]}]\n2b:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"On-Premise\"}],\" - Server installed in building (typical for large properties)\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"Cloud-Based\"}],\" - SaaS solution (typical for smaller properties or multiple sites)\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"Hybrid\"}],\" - Local concentrator with cloud backup\"]}],\"\\n\"]}]\n2c:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"DLMS Communication:\"}]}]\n"])</script><script>self.__next_f.push([1,"2d:[\"$\",\"pre\",null,{\"className\":\"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto mb-4\",\"children\":[\"$\",\"code\",null,{\"className\":\"hljs language-javascript\",\"children\":[[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// Example: HES reading all meters daily\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"const\"}],\" meters = \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"await\"}],\" hes.\",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"discoverMeters\"}],\"(); \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// Find all meters on network\"}],\"\\n\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"for\"}],\" (\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"const\"}],\" meter \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"of\"}],\" meters) {\\n  \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"try\"}],\" {\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// Connect to meter (meter is DLMS server, HES is client)\"}],\"\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"await\"}],\" dlmsClient.\",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"connect\"}],\"(meter.\",[\"$\",\"span\",null,{\"className\":\"hljs-property\",\"children\":\"address\"}],\");\\n\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// Authenticate\"}],\"\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"await\"}],\" dlmsClient.\",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"authenticate\"}],\"(\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'password'\"}],\");\\n\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// Read total energy consumption\"}],\"\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"const\"}],\" energy = \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"await\"}],\" dlmsClient.\",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"get\"}],\"(\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'1.0.1.8.0.255'\"}],\");\\n\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// Read load profile (last 24 hours)\"}],\"\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"const\"}],\" profile = \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"await\"}],\" dlmsClient.\",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"getLoadProfile\"}],\"(\\n      \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'0.0.99.1.0.255'\"}],\",\\n      startTime,\\n      endTime\\n    );\\n\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// Store in MDMS\"}],\"\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"await\"}],\" mdms.\",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"storeReading\"}],\"({\\n      \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"meterId\"}],\": meter.\",[\"$\",\"span\",null,{\"className\":\"hljs-property\",\"children\":\"id\"}],\",\\n      \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"timestamp\"}],\": \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-title class_\",\"children\":\"Date\"}],\"(),\\n      \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"energy\"}],\": energy,\\n      \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"profile\"}],\": profile\\n    });\\n\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// Disconnect\"}],\"\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"await\"}],\" dlmsClient.\",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"disconnect\"}],\"();\\n  } \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"catch\"}],\" (error) {\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-variable language_\",\"children\":\"console\"}],\".\",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"error\"}],\"(\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":[\"`Failed to read meter \",[\"$\",\"span\",null,{\"className\":\"hljs-subst\",\"children\":\"$${meter.id}\"}],\":`\"]}],\", error);\\n  }\\n}\\n\"]}]}]\n"])</script><script>self.__next_f.push([1,"2e:[\"$\",\"h3\",null,{\"className\":\"text-2xl font-semibold text-gray-900 mb-3 mt-6\",\"children\":\"4. Meter Data Management System (MDMS)\"}]\n2f:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Core Functions:\"}]}]\n"])</script><script>self.__next_f.push([1,"30:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"Data Validation\"}],\" - Checks for missing, duplicate, or suspicious readings\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"Billing Calculation\"}],\" - Computes charges based on consumption and tariffs\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"Balance Management\"}],\" - Tracks prepaid credit or postpaid balances\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"Report Generation\"}],\" - Usage reports, billing summaries, consumption trends\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"Tenant Management\"}],\" - User accounts, contact info, payment history\"]}],\"\\n\"]}]\n"])</script><script>self.__next_f.push([1,"31:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Database Schema (Simplified):\"}]}]\n"])</script><script>self.__next_f.push([1,"32:[\"$\",\"pre\",null,{\"className\":\"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto mb-4\",\"children\":[\"$\",\"code\",null,{\"className\":\"hljs language-sql\",\"children\":[[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"-- Tenants table\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"CREATE TABLE\"}],\" tenants (\\n  id UUID \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"PRIMARY KEY\"}],\",\\n  unit_number \",[\"$\",\"span\",null,{\"className\":\"hljs-type\",\"children\":\"VARCHAR\"}],\"(\",[\"$\",\"span\",null,{\"className\":\"hljs-number\",\"children\":\"10\"}],\"),\\n  name \",[\"$\",\"span\",null,{\"className\":\"hljs-type\",\"children\":\"VARCHAR\"}],\"(\",[\"$\",\"span\",null,{\"className\":\"hljs-number\",\"children\":\"100\"}],\"),\\n  email \",[\"$\",\"span\",null,{\"className\":\"hljs-type\",\"children\":\"VARCHAR\"}],\"(\",[\"$\",\"span\",null,{\"className\":\"hljs-number\",\"children\":\"100\"}],\"),\\n  phone \",[\"$\",\"span\",null,{\"className\":\"hljs-type\",\"children\":\"VARCHAR\"}],\"(\",[\"$\",\"span\",null,{\"className\":\"hljs-number\",\"children\":\"20\"}],\"),\\n  move_in_date \",[\"$\",\"span\",null,{\"className\":\"hljs-type\",\"children\":\"DATE\"}],\",\\n  account_balance \",[\"$\",\"span\",null,{\"className\":\"hljs-type\",\"children\":\"DECIMAL\"}],\"(\",[\"$\",\"span\",null,{\"className\":\"hljs-number\",\"children\":\"10\"}],\",\",[\"$\",\"span\",null,{\"className\":\"hljs-number\",\"children\":\"2\"}],\")\\n);\\n\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"-- Meters table\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"CREATE TABLE\"}],\" meters (\\n  id UUID \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"PRIMARY KEY\"}],\",\\n  meter_serial \",[\"$\",\"span\",null,{\"className\":\"hljs-type\",\"children\":\"VARCHAR\"}],\"(\",[\"$\",\"span\",null,{\"className\":\"hljs-number\",\"children\":\"50\"}],\") \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"UNIQUE\"}],\",\\n  tenant_id UUID \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"REFERENCES\"}],\" tenants(id),\\n  unit_number \",[\"$\",\"span\",null,{\"className\":\"hljs-type\",\"children\":\"VARCHAR\"}],\"(\",[\"$\",\"span\",null,{\"className\":\"hljs-number\",\"children\":\"10\"}],\"),\\n  install_date \",[\"$\",\"span\",null,{\"className\":\"hljs-type\",\"children\":\"DATE\"}],\",\\n  meter_type \",[\"$\",\"span\",null,{\"className\":\"hljs-type\",\"children\":\"VARCHAR\"}],\"(\",[\"$\",\"span\",null,{\"className\":\"hljs-number\",\"children\":\"50\"}],\"),\\n  communication_address \",[\"$\",\"span\",null,{\"className\":\"hljs-type\",\"children\":\"VARCHAR\"}],\"(\",[\"$\",\"span\",null,{\"className\":\"hljs-number\",\"children\":\"100\"}],\")\\n);\\n\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"-- Readings table\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"CREATE TABLE\"}],\" readings (\\n  id UUID \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"PRIMARY KEY\"}],\",\\n  meter_id UUID \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"REFERENCES\"}],\" meters(id),\\n  \",[\"$\",\"span\",null,{\"className\":\"hljs-type\",\"children\":\"timestamp\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-type\",\"children\":\"TIMESTAMP\"}],\",\\n  total_energy \",[\"$\",\"span\",null,{\"className\":\"hljs-type\",\"children\":\"DECIMAL\"}],\"(\",[\"$\",\"span\",null,{\"className\":\"hljs-number\",\"children\":\"10\"}],\",\",[\"$\",\"span\",null,{\"className\":\"hljs-number\",\"children\":\"3\"}],\"), \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"-- kWh\"}],\"\\n  instantaneous_power \",[\"$\",\"span\",null,{\"className\":\"hljs-type\",\"children\":\"DECIMAL\"}],\"(\",[\"$\",\"span\",null,{\"className\":\"hljs-number\",\"children\":\"8\"}],\",\",[\"$\",\"span\",null,{\"className\":\"hljs-number\",\"children\":\"3\"}],\"), \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"-- kW\"}],\"\\n  voltage \",[\"$\",\"span\",null,{\"className\":\"hljs-type\",\"children\":\"DECIMAL\"}],\"(\",[\"$\",\"span\",null,{\"className\":\"hljs-number\",\"children\":\"6\"}],\",\",[\"$\",\"span\",null,{\"className\":\"hljs-number\",\"children\":\"2\"}],\"), \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"-- V\"}],\"\\n  \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"current\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-type\",\"children\":\"DECIMAL\"}],\"(\",[\"$\",\"span\",null,{\"className\":\"hljs-number\",\"children\":\"6\"}],\",\",[\"$\",\"span\",null,{\"className\":\"hljs-number\",\"children\":\"2\"}],\"), \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"-- A\"}],\"\\n  power_factor \",[\"$\",\"span\",null,{\"className\":\"hljs-type\",\"children\":\"DECIMAL\"}],\"(\",[\"$\",\"span\",null,{\"className\":\"hljs-number\",\"children\":\"4\"}],\",\",[\"$\",\"span\",null,{\"className\":\"hljs-number\",\"children\":\"3\"}],\")\\n);\\n\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"-- Billing table\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"CREATE TABLE\"}],\" bills (\\n  id UUID \",\"$Ld9\",\",\\n  tenant_id UUID \",\"$Lda\",\" tenants(id),\\n  billing_period_start \",\"$Ldb\",\",\\n  billing_period_end \",\"$Ldc\",\",\\n  consumption_kwh \",\"$Ldd\",\"(\",\"$Lde\",\",\",\"$Ldf\",\"),\\n  rate_per_kwh \",\"$Le0\",\"(\",\"$Le1\",\",\",\"$Le2\",\"),\\n  amount \",\"$Le3\",\"(\",\"$Le4\",\",\",\"$Le5\",\"),\\n  service_charge \",\"$Le6\",\"(\",\"$Le7\",\",\",\"$Le8\",\"),\\n  total_amount \",\"$Le9\",\"(\",\"$Lea\",\",\",\"$Leb\",\"),\\n  status \",\"$Lec\",\"(\",\"$Led\",\"), \",\"$Lee\",\"\\n  paid_date \",\"$Lef\",\"\\n);\\n\"]}]}]\n"])</script><script>self.__next_f.push([1,"33:[\"$\",\"h2\",null,{\"className\":\"text-3xl font-semibold text-gray-900 mb-4 mt-8\",\"children\":\"Prepaid Metering with STS Tokens\"}]\n34:[\"$\",\"h3\",null,{\"className\":\"text-2xl font-semibold text-gray-900 mb-3 mt-6\",\"children\":\"What is STS (Standard Transfer Specification)?\"}]\n35:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":\"STS is an international standard (IEC 62055) for prepaid electricity metering using encrypted tokens.\"}]\n36:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"How it Works:\"}]}]\n"])</script><script>self.__next_f.push([1,"37:[\"$\",\"ol\",null,{\"className\":\"list-decimal list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[\"\\n\",[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"Tenant purchases credit\"}],\" via:\"]}],\"\\n\",[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Mobile app\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Web portal\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"SMS\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Physical vending point\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[\"USSD (\",[\"$\",\"em\",null,{\"children\":\"123\"}],\"456#)\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[\"\\n\",[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Vending system generates token:\"}]}],\"\\n\",[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"20-digit encrypted number\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Cryptographically secured (prevents fraud)\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Contains: amount, meter number, sequence number\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[\"\\n\",[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Tenant enters token into meter:\"}]}],\"\\n\",[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Via meter keypad\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Or sent remotely via DLMS\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[\"\\n\",[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Meter validates and credits account:\"}]}],\"\\n\",[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Decrypts token\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Verifies authenticity\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Adds credit to balance\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}]\n"])</script><script>self.__next_f.push([1,"38:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Token Format:\"}]}]\n39:[\"$\",\"pre\",null,{\"className\":\"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto mb-4\",\"children\":[\"$\",\"code\",null,{\"className\":\"bg-gray-100 text-red-600 px-1.5 py-0.5 rounded text-sm font-mono\",\"children\":\"1234 5678 9012 3456 7890\\n│    │    │    │    │\\n│    │    │    │    └─── Check digits\\n│    │    │    └──────── Encrypted amount\\n│    │    └───────────── Meter identification\\n│    └────────────────── Random number\\n└─────────────────────── Token class\\n\"}]}]\n3a:[\"$\",\"h3\",null,{\"className\":\"text-2xl font-semibold text-gray-900 mb-3 mt-6\",\"children\":\"STS Token Generation\"}]\n3b:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"System Architecture:\"}]}]\n"])</script><script>self.__next_f.push([1,"3c:[\"$\",\"pre\",null,{\"className\":\"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto mb-4\",\"children\":[\"$\",\"code\",null,{\"className\":\"bg-gray-100 text-red-600 px-1.5 py-0.5 rounded text-sm font-mono\",\"children\":\"┌─────────────┐\\n│   Tenant    │\\n│  (Mobile)   │\\n└──────┬──────┘\\n       │ 1. Request: \\\"Buy $10 credit\\\"\\n       ▼\\n┌─────────────┐\\n│   Vending   │ ◄── Payment gateway\\n│   Server    │\\n└──────┬──────┘\\n       │ 2. Process payment\\n       │ 3. Generate STS token\\n       ▼\\n┌─────────────┐\\n│     STS     │ ◄── Uses meter's secret key\\n│  Generator  │     (pre-loaded during install)\\n└──────┬──────┘\\n       │ 4. Return token: \\\"1234 5678 9012 3456 7890\\\"\\n       ▼\\n┌─────────────┐\\n│   Tenant    │\\n│  Receives   │ ◄── SMS, app, email\\n│   Token     │\\n└──────┬──────┘\\n       │ 5. Enter token on meter keypad\\n       ▼\\n┌─────────────┐\\n│  Sub-Meter  │\\n│   (Server)  │ ◄── Validates \u0026 credits account\\n└─────────────┘\\n\"}]}]\n"])</script><script>self.__next_f.push([1,"3d:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Example Token Generation (Simplified):\"}]}]\n"])</script><script>self.__next_f.push([1,"3e:[\"$\",\"pre\",null,{\"className\":\"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto mb-4\",\"children\":[\"$\",\"code\",null,{\"className\":\"hljs language-python\",\"children\":[[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"import\"}],\" hashlib\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"import\"}],\" secrets\\n\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"def\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"generate_sts_token\"}],\"(\",[\"$\",\"span\",null,{\"className\":\"hljs-params\",\"children\":\"meter_number, amount_cents, secret_key\"}],\"):\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"\\\"\\\"\\\"Generate STS-compliant prepaid token\\\"\\\"\\\"\"}],\"\\n\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"# Create token data\"}],\"\\n    token_data = {\\n        \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'meter_number'\"}],\": meter_number,\\n        \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'amount'\"}],\": amount_cents,\\n        \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'sequence'\"}],\": get_next_sequence(meter_number),\\n        \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'random'\"}],\": secrets.randbelow(\",[\"$\",\"span\",null,{\"className\":\"hljs-number\",\"children\":\"1000000\"}],\"),\\n        \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'timestamp'\"}],\": \",[\"$\",\"span\",null,{\"className\":\"hljs-built_in\",\"children\":\"int\"}],\"(time.time())\\n    }\\n\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"# Encrypt using meter's secret key (DES/AES)\"}],\"\\n    encrypted = encrypt_token_data(token_data, secret_key)\\n\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"# Format as 20-digit token\"}],\"\\n    token = format_20_digit_token(encrypted)\\n\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"# Add check digits\"}],\"\\n    token_with_checksum = add_checksum(token)\\n\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"return\"}],\" token_with_checksum\\n\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"# Example usage\"}],\"\\ntoken = generate_sts_token(\\n    meter_number=\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'12345678'\"}],\",\\n    amount_cents=\",[\"$\",\"span\",null,{\"className\":\"hljs-number\",\"children\":\"1000\"}],\",  \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"# $10.00\"}],\"\\n    secret_key=\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'meter_secret_key_abc123'\"}],\"\\n)\\n\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-built_in\",\"children\":\"print\"}],\"(\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":[\"f\\\"Token: \",[\"$\",\"span\",null,{\"className\":\"hljs-subst\",\"children\":\"{token}\"}],\"\\\"\"]}],\")\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"# Output: 1234 5678 9012 3456 7890\"}],\"\\n\"]}]}]\n"])</script><script>self.__next_f.push([1,"3f:[\"$\",\"h3\",null,{\"className\":\"text-2xl font-semibold text-gray-900 mb-3 mt-6\",\"children\":\"Remote Token Loading (Alternative to Keypad Entry)\"}]\n40:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Using DLMS/COSEM:\"}]}]\n"])</script><script>self.__next_f.push([1,"41:[\"$\",\"pre\",null,{\"className\":\"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto mb-4\",\"children\":[\"$\",\"code\",null,{\"className\":\"hljs language-javascript\",\"children\":[[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// Load token remotely via DLMS\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"async\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"function\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"loadTokenRemotely\"}],\"(\",[\"$\",\"span\",null,{\"className\":\"hljs-params\",\"children\":\"meterId, token\"}],\") {\\n  \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// Connect to meter\"}],\"\\n  \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"await\"}],\" dlmsClient.\",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"connect\"}],\"(meterId);\\n  \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"await\"}],\" dlmsClient.\",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"authenticate\"}],\"();\\n\\n  \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// Write token to meter's credit register\"}],\"\\n  \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"await\"}],\" dlmsClient.\",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"set\"}],\"(\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'0.0.19.10.0.255'\"}],\",  \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// STS token object\"}],\"\\n    token\\n  );\\n\\n  \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// Read new balance\"}],\"\\n  \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"const\"}],\" balance = \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"await\"}],\" dlmsClient.\",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"get\"}],\"(\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'0.0.19.0.0.255'\"}],\");\\n\\n  \",[\"$\",\"span\",null,{\"className\":\"hljs-variable language_\",\"children\":\"console\"}],\".\",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"log\"}],\"(\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":[\"`Token loaded. New balance: \",[\"$\",\"span\",null,{\"className\":\"hljs-subst\",\"children\":\"$${balance}\"}],\" cents`\"]}],\");\\n\\n  \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"await\"}],\" dlmsClient.\",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"disconnect\"}],\"();\\n}\\n\"]}]}]\n"])</script><script>self.__next_f.push([1,"42:[\"$\",\"h3\",null,{\"className\":\"text-2xl font-semibold text-gray-900 mb-3 mt-6\",\"children\":\"Prepaid Meter Behavior\"}]\n43:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Low Credit Warnings:\"}]}]\n44:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Alert at 10% remaining (configurable)\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Alert at 5% remaining\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Alert at emergency credit activation\"}],\"\\n\"]}]\n45:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Emergency Credit:\"}]}]\n46:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Additional credit (e.g., $2) activated when main balance = $0\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Gives tenant time to purchase more\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Must be repaid before normal operation resumes\"}],\"\\n\"]}]\n47:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Disconnection:\"}]}]\n48:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Relay opens when balance = $0 and emergency credit exhausted\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Display shows \\\"NO CREDIT - PLEASE RECHARGE\\\"\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Reconnects automatically when valid token entered\"}],\"\\n\"]}]\n49:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Tamper Events:\"}]}]\n4a:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Cover opening → logs event, may alarm\"}],\"\\n\","])</script><script>self.__next_f.push([1,"[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Magnetic tampering → logs event\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Bypass detection → disconnects supply\"}],\"\\n\"]}]\n4b:[\"$\",\"h2\",null,{\"className\":\"text-3xl font-semibold text-gray-900 mb-4 mt-8\",\"children\":\"Implementation Steps\"}]\n4c:[\"$\",\"h3\",null,{\"className\":\"text-2xl font-semibold text-gray-900 mb-3 mt-6\",\"children\":\"Phase 1: Planning \u0026 Design (2-4 weeks)\"}]\n4d:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"1. Site Survey\"}]}]\n4e:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Count number of units requiring sub-meters\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Assess electrical distribution layout\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Evaluate communication infrastructure options\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Identify meter installation locations\"}],\"\\n\"]}]\n4f:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"2. System Design\"}]}]\n50:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Select meter type (prepaid vs postpaid)\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Choose communication technology (PLC/RF/Ethernet)\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Design HES/MDMS architecture\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Plan network topology\"}],\"\\n\"]}]\n51:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"3. Regulatory Compliance\"}]}]\n52:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Verify local regulations for sub-metering\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Ensure met"])</script><script>self.__next_f.push([1,"ers meet accuracy standards\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Obtain necessary approvals\"}],\"\\n\"]}]\n53:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"4. Business Model\"}]}]\n54:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Define pricing (rate per kWh)\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Decide on service charges\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Choose prepaid vs postpaid or hybrid\"}],\"\\n\"]}]\n55:[\"$\",\"h3\",null,{\"className\":\"text-2xl font-semibold text-gray-900 mb-3 mt-6\",\"children\":\"Phase 2: Procurement (4-6 weeks)\"}]\n56:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Equipment to Purchase:\"}]}]\n57:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"☑ Sub-meters (50 units + 10% spare)\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"☑ Data concentrator / HES\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"☑ Communication modules (PLC/RF)\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"☑ Installation materials (cables, breakers, enclosures)\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"☑ Server hardware (if on-premise MDMS)\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"☑ Software licenses (MDMS, vending platform)\"}],\"\\n\"]}]\n58:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Vendor Selection Criteria:\"}]}]\n59:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"DLMS/COSEM compliance\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"STS certification (if prepaid)\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Warranty and support\"}],\"\\n\",[\"$"])</script><script>self.__next_f.push([1,"\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Interoperability with existing systems\"}],\"\\n\"]}]\n5a:[\"$\",\"h3\",null,{\"className\":\"text-2xl font-semibold text-gray-900 mb-3 mt-6\",\"children\":\"Phase 3: Installation (6-8 weeks)\"}]\n5b:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"1. Electrical Work\"}]}]\n5c:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Install sub-meters in distribution boards\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Ensure proper grounding and protection\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Label circuits clearly\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Test meter connections\"}],\"\\n\"]}]\n5d:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"2. Communication Network\"}]}]\n5e:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Install data concentrator\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Deploy PLC couplers or RF repeaters\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Configure network parameters\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Test communication to all meters\"}],\"\\n\"]}]\n5f:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"3. System Configuration\"}]}]\n60:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Commission meters (load encryption keys for STS)\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Assign meter IDs and unit numbers\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Configure tariffs and pricing\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Set up alarm thresholds\"}],\"\\n\"]}]\n61:[\"$\",\"h3\",null,{\"className\":\"text-2xl font-semibo"])</script><script>self.__next_f.push([1,"ld text-gray-900 mb-3 mt-6\",\"children\":\"Phase 4: Software Deployment (2-3 weeks)\"}]\n62:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"1. HES Configuration\"}]}]\n63:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Add all meter endpoints\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Configure reading schedules\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Set up data collection jobs\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Test remote commands (disconnect/reconnect)\"}],\"\\n\"]}]\n64:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"2. MDMS Setup\"}]}]\n65:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Import tenant data\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Link tenants to meters\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Configure billing rules\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Set up automated processes\"}],\"\\n\"]}]\n66:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"3. Tenant Portal\"}]}]\n67:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Deploy web/mobile app\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Configure payment gateways\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Test token vending\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Train customer support team\"}],\"\\n\"]}]\n68:[\"$\",\"h3\",null,{\"className\":\"text-2xl font-semibold text-gray-900 mb-3 mt-6\",\"children\":\"Phase 5: Testing \u0026 Go-Live (2-3 weeks)\"}]\n69:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"1. System Testing\"}]}]\n6a:[\"$\",\"ul\",nu"])</script><script>self.__next_f.push([1,"ll,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"End-to-end data flow validation\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Token generation and loading\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Billing accuracy verification\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Disconnect/reconnect functionality\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Alarm and event handling\"}],\"\\n\"]}]\n6b:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"2. Pilot Phase\"}]}]\n6c:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Start with 5-10 units\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Monitor performance daily\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Fix any issues\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Gather feedback\"}],\"\\n\"]}]\n6d:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"3. Full Rollout\"}]}]\n6e:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Onboard remaining tenants\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Conduct tenant training\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Provide user guides\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Offer support during transition\"}],\"\\n\"]}]\n6f:[\"$\",\"h2\",null,{\"className\":\"text-3xl font-semibold text-gray-900 mb-4 mt-8\",\"children\":\"Cost Analysis\"}]\n70:[\"$\",\"h3\",null,{\"className\":\"text-2xl font-semibold text-gray-900 mb-3 mt-6\",\"children\":\"Typical Costs (50-Unit Apartment)\"}]\n71:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Capital Expenditure:\"}]}]\n"])</script><script>self.__next_f.push([1,"72:[\"$\",\"div\",null,{\"className\":\"overflow-x-auto mb-6 border border-gray-200 rounded-lg\",\"children\":[\"$\",\"table\",null,{\"className\":\"min-w-full divide-y divide-gray-200\",\"children\":[[\"$\",\"thead\",null,{\"className\":\"bg-gray-50\",\"children\":[\"$\",\"tr\",null,{\"className\":\"hover:bg-gray-50\",\"children\":[[\"$\",\"th\",null,{\"className\":\"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider border-r border-gray-200 last:border-r-0\",\"children\":\"Item\"}],[\"$\",\"th\",null,{\"className\":\"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider border-r border-gray-200 last:border-r-0\",\"children\":\"Unit Cost\"}],[\"$\",\"th\",null,{\"className\":\"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider border-r border-gray-200 last:border-r-0\",\"children\":\"Quantity\"}],[\"$\",\"th\",null,{\"className\":\"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider border-r border-gray-200 last:border-r-0\",\"children\":\"Total\"}]]}]}],[\"$\",\"tbody\",null,{\"className\":\"bg-white divide-y divide-gray-200\",\"children\":[[\"$\",\"tr\",null,{\"className\":\"hover:bg-gray-50\",\"children\":[[\"$\",\"td\",null,{\"className\":\"px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0\",\"children\":\"DLMS/COSEM Sub-meters\"}],[\"$\",\"td\",null,{\"className\":\"px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0\",\"children\":\"$$80 - $150\"}],[\"$\",\"td\",null,{\"className\":\"px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0\",\"children\":\"50\"}],[\"$\",\"td\",null,{\"className\":\"px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0\",\"children\":\"$$4,000 - $7,500\"}]]}],[\"$\",\"tr\",null,{\"className\":\"hover:bg-gray-50\",\"children\":[[\"$\",\"td\",null,{\"className\":\"px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0\",\"children\":\"Data Concentrator/HES\"}],[\"$\",\"td\",null,{\"className\":\"px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0\",\"children\":\"$$2,000 - $5,000\"}],[\"$\",\"td\",null,{\"className\":\"px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0\",\"children\":\"1\"}],[\"$\",\"td\",null,{\"className\":\"px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0\",\"children\":\"$$2,000 - $5,000\"}]]}],[\"$\",\"tr\",null,{\"className\":\"hover:bg-gray-50\",\"children\":[[\"$\",\"td\",null,{\"className\":\"px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0\",\"children\":\"Communication Hardware\"}],[\"$\",\"td\",null,{\"className\":\"px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0\",\"children\":\"$$50 - $100\"}],[\"$\",\"td\",null,{\"className\":\"px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0\",\"children\":\"50\"}],[\"$\",\"td\",null,{\"className\":\"px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0\",\"children\":\"$$2,500 - $5,000\"}]]}],[\"$\",\"tr\",null,{\"className\":\"hover:bg-gray-50\",\"children\":[[\"$\",\"td\",null,{\"className\":\"px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0\",\"children\":\"Installation Labor\"}],[\"$\",\"td\",null,{\"className\":\"px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0\",\"children\":\"$$100 - $200\"}],[\"$\",\"td\",null,{\"className\":\"px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0\",\"children\":\"50\"}],[\"$\",\"td\",null,{\"className\":\"px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0\",\"children\":\"$$5,000 - $10,000\"}]]}],[\"$\",\"tr\",null,{\"className\":\"hover:bg-gray-50\",\"children\":[[\"$\",\"td\",null,{\"className\":\"px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0\",\"children\":\"MDMS Software License\"}],[\"$\",\"td\",null,{\"className\":\"px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0\",\"children\":\"$$5,000 - $15,000\"}],[\"$\",\"td\",null,{\"className\":\"px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0\",\"children\":\"1\"}],[\"$\",\"td\",null,{\"className\":\"px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0\",\"children\":\"$$5,000 - $15,000\"}]]}],\"$Lf0\",\"$Lf1\"]}]]}]}]\n"])</script><script>self.__next_f.push([1,"73:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Operating Expenditure (Annual):\"}]}]\n"])</script><script>self.__next_f.push([1,"74:[\"$\",\"div\",null,{\"className\":\"overflow-x-auto mb-6 border border-gray-200 rounded-lg\",\"children\":[\"$\",\"table\",null,{\"className\":\"min-w-full divide-y divide-gray-200\",\"children\":[[\"$\",\"thead\",null,{\"className\":\"bg-gray-50\",\"children\":[\"$\",\"tr\",null,{\"className\":\"hover:bg-gray-50\",\"children\":[[\"$\",\"th\",null,{\"className\":\"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider border-r border-gray-200 last:border-r-0\",\"children\":\"Item\"}],[\"$\",\"th\",null,{\"className\":\"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider border-r border-gray-200 last:border-r-0\",\"children\":\"Cost\"}]]}]}],[\"$\",\"tbody\",null,{\"className\":\"bg-white divide-y divide-gray-200\",\"children\":[[\"$\",\"tr\",null,{\"className\":\"hover:bg-gray-50\",\"children\":[[\"$\",\"td\",null,{\"className\":\"px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0\",\"children\":\"MDMS subscription / maintenance\"}],[\"$\",\"td\",null,{\"className\":\"px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0\",\"children\":\"$$2,000 - $5,000\"}]]}],[\"$\",\"tr\",null,{\"className\":\"hover:bg-gray-50\",\"children\":[[\"$\",\"td\",null,{\"className\":\"px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0\",\"children\":\"Cellular data (if applicable)\"}],[\"$\",\"td\",null,{\"className\":\"px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0\",\"children\":\"$$500 - $2,000\"}]]}],[\"$\",\"tr\",null,{\"className\":\"hover:bg-gray-50\",\"children\":[[\"$\",\"td\",null,{\"className\":\"px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0\",\"children\":\"Customer support\"}],[\"$\",\"td\",null,{\"className\":\"px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0\",\"children\":\"$$5,000 - $15,000\"}]]}],[\"$\",\"tr\",null,{\"className\":\"hover:bg-gray-50\",\"children\":[[\"$\",\"td\",null,{\"className\":\"px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0\",\"children\":\"Meter maintenance\"}],[\"$\",\"td\",null,{\"className\":\"px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0\",\"children\":\"$$1,000 - $3,000\"}]]}],[\"$\",\"tr\",null,{\"className\":\"hover:bg-gray-50\",\"children\":[[\"$\",\"td\",null,{\"className\":\"px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Total OpEx\"}]}],[\"$\",\"td\",null,{\"className\":\"px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0\",\"children\":[\"$\",\"strong\",null,{\"children\":\"$$8,500 - $25,000\"}]}]]}]]}]]}]}]\n"])</script><script>self.__next_f.push([1,"75:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"Per-Unit Cost:\"}],\" ~$430 - $1,050 per apartment (CapEx)\"]}]\n76:[\"$\",\"h3\",null,{\"className\":\"text-2xl font-semibold text-gray-900 mb-3 mt-6\",\"children\":\"Revenue Model\"}]\n77:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Electricity Resale:\"}]}]\n78:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"Buy bulk:\"}],\" $0.10 per kWh (commercial rate)\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"Sell to tenants:\"}],\" $0.15 per kWh\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"Margin:\"}],\" $0.05 per kWh\"]}],\"\\n\"]}]\n79:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Monthly Revenue (Example):\"}]}]\n7a:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Average consumption: 300 kWh per unit\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Monthly consumption (50 units): 15,000 kWh\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[\"Margin revenue: 15,000 × $0.05 = \",[\"$\",\"strong\",null,{\"children\":\"$$750/month\"}]]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[\"Annual margin: \",[\"$\",\"strong\",null,{\"children\":\"$$9,000\"}]]}],\"\\n\"]}]\n7b:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Service Charge:\"}]}]\n7c:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Many properties add service charge: $5-15 per unit/month\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[\"50 units × $10 = \",[\"$\",\"strong\",null,{\"children\":\"$$500/month\"}],\" o"])</script><script>self.__next_f.push([1,"r \",[\"$\",\"strong\",null,{\"children\":\"$$6,000/year\"}]]}],\"\\n\"]}]\n7d:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"Total Annual Revenue:\"}],\" $15,000\\n\",[\"$\",\"strong\",null,{\"children\":\"ROI Period:\"}],\" 1.5 - 3.5 years\"]}]\n7e:[\"$\",\"h2\",null,{\"className\":\"text-3xl font-semibold text-gray-900 mb-4 mt-8\",\"children\":\"Key Challenges and Solutions\"}]\n7f:[\"$\",\"h3\",null,{\"className\":\"text-2xl font-semibold text-gray-900 mb-3 mt-6\",\"children\":\"Challenge 1: Tenant Resistance\"}]\n80:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"Problem:\"}],\" Tenants prefer dealing directly with utility\"]}]\n81:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Solutions:\"}]}]\n82:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Offer competitive rates\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Provide prepaid option for budget control\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Give detailed consumption insights\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Ensure transparent billing\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Maintain excellent customer service\"}],\"\\n\"]}]\n83:[\"$\",\"h3\",null,{\"className\":\"text-2xl font-semibold text-gray-900 mb-3 mt-6\",\"children\":\"Challenge 2: Communication Reliability\"}]\n84:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"Problem:\"}],\" Data loss due to network issues\"]}]\n85:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Solutions:\"}]}]\n86:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Use redundant communication paths\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Implement local "])</script><script>self.__next_f.push([1,"data storage in meters\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Schedule automatic retries\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Monitor network health proactively\"}],\"\\n\"]}]\n87:[\"$\",\"h3\",null,{\"className\":\"text-2xl font-semibold text-gray-900 mb-3 mt-6\",\"children\":\"Challenge 3: Billing Disputes\"}]\n88:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"Problem:\"}],\" Tenants question accuracy\"]}]\n89:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Solutions:\"}]}]\n8a:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Provide load profile access (hourly consumption)\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Install meters with high accuracy class (Class 1 or better)\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Allow third-party audits\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Maintain comprehensive event logs\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Offer comparison with neighbors (anonymized)\"}],\"\\n\"]}]\n8b:[\"$\",\"h3\",null,{\"className\":\"text-2xl font-semibold text-gray-900 mb-3 mt-6\",\"children\":\"Challenge 4: Meter Tampering\"}]\n8c:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"Problem:\"}],\" Revenue loss from bypass\"]}]\n8d:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Solutions:\"}]}]\n8e:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Use tamper-evident seals\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Enable tamper detection in meters\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Monitor for suspicious consumption patterns\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Implement immediate disc"])</script><script>self.__next_f.push([1,"onnect on tamper event\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Conduct regular physical inspections\"}],\"\\n\"]}]\n8f:[\"$\",\"h2\",null,{\"className\":\"text-3xl font-semibold text-gray-900 mb-4 mt-8\",\"children\":\"Regulatory Considerations\"}]\n90:[\"$\",\"h3\",null,{\"className\":\"text-2xl font-semibold text-gray-900 mb-3 mt-6\",\"children\":\"Meter Accuracy Requirements\"}]\n91:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":\"Most jurisdictions require:\"}]\n92:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"Accuracy Class:\"}],\" Class 1 or Class 2 (IEC 62052/62053)\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"Testing:\"}],\" Initial calibration certificate\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"Verification:\"}],\" Periodic testing (every 5-10 years)\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"Sealing:\"}],\" Tamper-evident seals on all covers\"]}],\"\\n\"]}]\n93:[\"$\",\"h3\",null,{\"className\":\"text-2xl font-semibold text-gray-900 mb-3 mt-6\",\"children\":\"Sub-Metering Regulations\"}]\n94:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Check local requirements for:\"}]}]\n95:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"☑ Permission to resell electricity\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"☑ Maximum allowed markup on rates\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"☑ Billing transparency requirements\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"☑ Consumer protection laws\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"☑ Data privacy regulations (GDPR, etc.)\"}],\"\\n\"]}]\n96:[\"$\",\"h3\",null,{\"className\":\"text-2xl font-semibold text-gray-900 mb-3 mt-6"])</script><script>self.__next_f.push([1,"\",\"children\":\"Tenant Rights\"}]\n97:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Must provide:\"}]}]\n98:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Clear pricing disclosure\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Itemized bills\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Consumption history\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Dispute resolution process\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Reasonable notice for rate changes\"}],\"\\n\"]}]\n99:[\"$\",\"h2\",null,{\"className\":\"text-3xl font-semibold text-gray-900 mb-4 mt-8\",\"children\":\"Advanced Features\"}]\n9a:[\"$\",\"h3\",null,{\"className\":\"text-2xl font-semibold text-gray-900 mb-3 mt-6\",\"children\":\"Demand Management\"}]\n9b:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Time-of-Use (TOU) Tariffs:\"}]}]\n"])</script><script>self.__next_f.push([1,"9c:[\"$\",\"pre\",null,{\"className\":\"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto mb-4\",\"children\":[\"$\",\"code\",null,{\"className\":\"hljs language-javascript\",\"children\":[[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// Configure multi-tariff rates\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"const\"}],\" tariffSchedule = {\\n  \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"peak\"}],\": {\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"hours\"}],\": \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'17:00-21:00'\"}],\",\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"rate\"}],\": \",[\"$\",\"span\",null,{\"className\":\"hljs-number\",\"children\":\"0.20\"}],\"  \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// $0.20/kWh\"}],\"\\n  },\\n  \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"offPeak\"}],\": {\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"hours\"}],\": \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'21:00-17:00'\"}],\",\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"rate\"}],\": \",[\"$\",\"span\",null,{\"className\":\"hljs-number\",\"children\":\"0.10\"}],\"  \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// $0.10/kWh\"}],\"\\n  },\\n  \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"weekend\"}],\": {\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"days\"}],\": [\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'Saturday'\"}],\", \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'Sunday'\"}],\"],\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"rate\"}],\": \",[\"$\",\"span\",null,{\"className\":\"hljs-number\",\"children\":\"0.08\"}],\"  \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// $0.08/kWh\"}],\"\\n  }\\n};\\n\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// Load to meter via DLMS\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"await\"}],\" dlmsClient.\",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"setActivityCalendar\"}],\"(tariffSchedule);\\n\"]}]}]\n"])</script><script>self.__next_f.push([1,"9d:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Benefits:\"}]}]\n9e:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Encourages load shifting\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Reduces peak demand charges from utility\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Tenants save money by shifting usage\"}],\"\\n\"]}]\n9f:[\"$\",\"h3\",null,{\"className\":\"text-2xl font-semibold text-gray-900 mb-3 mt-6\",\"children\":\"Load Limiting\"}]\na0:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Prevent Individual Overload:\"}]}]\n"])</script><script>self.__next_f.push([1,"a1:[\"$\",\"pre\",null,{\"className\":\"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto mb-4\",\"children\":[\"$\",\"code\",null,{\"className\":\"hljs language-javascript\",\"children\":[[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// Set maximum demand threshold\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"await\"}],\" dlmsClient.\",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"set\"}],\"(\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'1.0.17.0.0.255'\"}],\", {\\n  \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"threshold\"}],\": \",[\"$\",\"span\",null,{\"className\":\"hljs-number\",\"children\":\"5000\"}],\",  \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// 5 kW max\"}],\"\\n  \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"duration\"}],\": \",[\"$\",\"span\",null,{\"className\":\"hljs-number\",\"children\":\"60\"}],\",     \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// 1 minute\"}],\"\\n  \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"action\"}],\": \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'disconnect'\"}],\"\\n});\\n\"]}]}]\n"])</script><script>self.__next_f.push([1,"a2:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Use Case:\"}]}]\na3:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Prevent circuit breaker trips\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Enforce fair usage policies\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Manage total building load\"}],\"\\n\"]}]\na4:[\"$\",\"h3\",null,{\"className\":\"text-2xl font-semibold text-gray-900 mb-3 mt-6\",\"children\":\"Energy Analytics\"}]\na5:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Tenant Dashboard Features:\"}]}]\na6:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Real-time consumption monitoring\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Hourly/daily/monthly trends\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Cost projections\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Comparison with similar units\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Efficiency recommendations\"}],\"\\n\"]}]\na7:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Property Manager Dashboard:\"}]}]\na8:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Total building consumption\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Per-unit usage patterns\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Revenue tracking\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Alarm and event summary\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Non-technical loss detection\"}],\"\\n\"]}]\na9:[\"$\",\"h2\",null,{\"className\":\"text-3xl font-semibold text-gray-900 mb-4 mt-8\",\"children\":\"Conclusion\"}]\naa:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 le"])</script><script>self.__next_f.push([1,"ading-relaxed\",\"children\":\"Sub-metering with DLMS/COSEM provides a robust, standardized solution for multi-tenant property electricity billing. The combination of:\"}]\n"])</script><script>self.__next_f.push([1,"ab:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"DLMS/COSEM protocol\"}],\" - Ensures interoperability and future-proofing\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"STS prepaid tokens\"}],\" - Eliminates bad debt and collection costs\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"Remote management\"}],\" - Reduces operational overhead\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"Detailed analytics\"}],\" - Improves efficiency and tenant satisfaction\"]}],\"\\n\"]}]\n"])</script><script>self.__next_f.push([1,"ac:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":\"Makes it an attractive business case with typical ROI of 1.5-3.5 years.\"}]\nad:[\"$\",\"div\",null,{\"className\":\"border-l-4 p-4 mb-4 bg-green-50 border-green-500 text-green-900\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-start\",\"children\":[[\"$\",\"span\",null,{\"className\":\"text-2xl mr-3\",\"children\":\"✅\"}],[\"$\",\"div\",null,{\"className\":\"flex-1\",\"children\":[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"Next Steps:\"}],\" Conduct a pilot project with 5-10 units to validate the business model and refine the implementation before full deployment.\"]}]}]]}]}]\nae:[\"$\",\"h2\",null,{\"className\":\"text-3xl font-semibold text-gray-900 mb-4 mt-8\",\"children\":\"Technical Deep-Dive: Addressing and Connectivity\"}]\naf:[\"$\",\"h3\",null,{\"className\":\"text-2xl font-semibold text-gray-900 mb-3 mt-6\",\"children\":\"Static IP vs Dynamic Addressing\"}]\nb0:[\"$\",\"div\",null,{\"className\":\"border-l-4 p-4 mb-4 bg-yellow-50 border-yellow-500 text-yellow-900\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-start\",\"children\":[[\"$\",\"span\",null,{\"className\":\"text-2xl mr-3\",\"children\":\"⚠️\"}],[\"$\",\"div\",null,{\"className\":\"flex-1\",\"children\":[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"Common Issue:\"}],\" Since meters act as DLMS servers, how do we address them reliably in a network?\"]}]}]]}]}]\nb1:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"The Challenge:\"}]}]\nb2:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":\"In traditional IT networks, servers need static IP addresses so clients know where to connect. However, in sub-metering deployments:\"}]\nb3:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Assigning static IPs to 50+ meters is complex\"}],\"\\n\",[\"$\",\"li\",null,{\"classNam"])</script><script>self.__next_f.push([1,"e\":\"ml-4\",\"children\":\"DHCP (dynamic IPs) means addresses change\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Manual IP configuration on each meter is time-consuming\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"IP conflicts can occur\"}],\"\\n\"]}]\nb4:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Solutions:\"}]}]\nb5:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"1. HDLC Over Serial/Optical (No IP Required)\"}]}]\nb6:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Each meter has a physical address (e.g., 0x01, 0x02, ...)\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Communication via serial bus (RS-485, M-Bus)\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"No IP stack needed - HDLC handles addressing\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Simple but requires wired infrastructure\"}],\"\\n\"]}]\nb7:[\"$\",\"pre\",null,{\"className\":\"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto mb-4\",\"children\":[\"$\",\"code\",null,{\"className\":\"bg-gray-100 text-red-600 px-1.5 py-0.5 rounded text-sm font-mono\",\"children\":\"Meter 1 (HDLC Address: 0x01) ─┐\\nMeter 2 (HDLC Address: 0x02) ─┤\\nMeter 3 (HDLC Address: 0x03) ─┼─── RS-485 Bus ───\u003e Data Concentrator\\n        ...                    │\\nMeter N (HDLC Address: 0x32) ─┘\\n\"}]}]\nb8:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"2. Data Concentrator as Gateway (Recommended)\"}]}]\nb9:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":\"Instead of direct meter-to-HES communication, use a local concentrator:\"}]\nba:[\"$\",\"pre\",null,{\"className\":\"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto mb-4\",\"children\":[\"$\",\"code\",null,{\"className\":\"bg-gray-100 text-red-600 px-1.5 py-0.5 rounded text-sm font-mono\",\"children\":"])</script><script>self.__next_f.push([1,"\"HES (Cloud/Server)\\n    │\\n    │ Single IP connection\\n    ▼\\nData Concentrator (192.168.1.100)\\n    │\\n    ├── PLC Network (no IPs, uses MAC addresses)\\n    │   ├── Meter 1\\n    │   ├── Meter 2\\n    │   └── Meter 3\\n    │\\n    └── RF Mesh (no IPs, uses RF node IDs)\\n        ├── Meter 4\\n        ├── Meter 5\\n        └── Meter 6\\n\"}]}]\nbb:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"How it works:\"}]}]\nbc:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Concentrator has ONE static IP (or uses cellular with dynamic IP + VPN)\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Meters use MAC addresses or logical node IDs (not IP addresses)\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"HES connects to concentrator, which routes to specific meters\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Concentrator maintains meter inventory and routing table\"}],\"\\n\"]}]\nbd:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Example DLMS Connection via Concentrator:\"}]}]\n"])</script><script>self.__next_f.push([1,"be:[\"$\",\"pre\",null,{\"className\":\"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto mb-4\",\"children\":[\"$\",\"code\",null,{\"className\":\"hljs language-javascript\",\"children\":[[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// HES connects to concentrator\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"const\"}],\" concentrator = \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"await\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"connect\"}],\"(\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'192.168.1.100:4059'\"}],\");\\n\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// Request connection to specific meter via logical address\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"const\"}],\" meterConnection = \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"await\"}],\" concentrator.\",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"routeTo\"}],\"({\\n  \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"logicalAddress\"}],\": \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'METER_UNIT_101'\"}],\",  \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// or MAC, or serial number\"}],\"\\n  \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"physicalAddress\"}],\": \",[\"$\",\"span\",null,{\"className\":\"hljs-number\",\"children\":\"0x01\"}],\"              \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// Internal concentrator routing\"}],\"\\n});\\n\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// Now communicate with meter through concentrator tunnel\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"const\"}],\" energy = \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"await\"}],\" meterConnection.\",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"get\"}],\"(\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'1.0.1.8.0.255'\"}],\");\\n\"]}]}]\n"])</script><script>self.__next_f.push([1,"bf:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"3. DLMS Wrapper Protocol with DHCP + DNS\"}]}]\nc0:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":\"For TCP/IP networks where dynamic addressing is unavoidable:\"}]\nc1:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Use DHCP for automatic IP assignment\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Implement local DNS or mDNS (Multicast DNS)\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Meters register themselves by serial number\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"HES resolves meter by name, not IP\"}],\"\\n\"]}]\n"])</script><script>self.__next_f.push([1,"c2:[\"$\",\"pre\",null,{\"className\":\"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto mb-4\",\"children\":[\"$\",\"code\",null,{\"className\":\"hljs language-javascript\",\"children\":[[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// Instead of connecting to IP address\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"const\"}],\" meter = \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"await\"}],\" dlmsClient.\",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"connect\"}],\"(\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'192.168.1.45:4059'\"}],\");  \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// ✗ IP changes\"}],\"\\n\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// Connect by meter serial number (DNS/mDNS resolves to current IP)\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"const\"}],\" meter = \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"await\"}],\" dlmsClient.\",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"connect\"}],\"(\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'meter://12345678'\"}],\");  \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// ✓ Works even if IP changes\"}],\"\\n\"]}]}]\n"])</script><script>self.__next_f.push([1,"c3:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Implementation:\"}]}]\n"])</script><script>self.__next_f.push([1,"c4:[\"$\",\"pre\",null,{\"className\":\"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto mb-4\",\"children\":[\"$\",\"code\",null,{\"className\":\"hljs language-javascript\",\"children\":[[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// Meter registers itself on network boot\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"class\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-title class_\",\"children\":\"MeterDNSRegistration\"}],\" {\\n  \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"async\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"registerMeter\"}],\"(\",[\"$\",\"span\",null,{\"className\":\"hljs-params\"}],\") {\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"const\"}],\" meterSerial = \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"await\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-variable language_\",\"children\":\"this\"}],\".\",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"getSerialNumber\"}],\"();\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"const\"}],\" currentIP = \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"await\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-variable language_\",\"children\":\"this\"}],\".\",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"getCurrentIP\"}],\"();\\n\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// Register with local DNS or concentrator\"}],\"\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"await\"}],\" dns.\",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"register\"}],\"({\\n      \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"name\"}],\": \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":[\"`meter-\",[\"$\",\"span\",null,{\"className\":\"hljs-subst\",\"children\":\"$${meterSerial}\"}],\"`\"]}],\",  \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// e.g., meter-12345678\"}],\"\\n      \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"ip\"}],\": currentIP,\\n      \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"ttl\"}],\": \",[\"$\",\"span\",null,{\"className\":\"hljs-number\",\"children\":\"300\"}],\"  \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// Update every 5 minutes\"}],\"\\n    });\\n  }\\n}\\n\"]}]}]\n"])</script><script>self.__next_f.push([1,"c5:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"4. VPN with Reserved DHCP Leases\"}]}]\nc6:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":\"For cellular/WAN deployments:\"}]\nc7:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Use VPN (concentrator connects to cloud HES via VPN)\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"DHCP server reserves specific IP based on MAC address\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Meters always get same IP (quasi-static)\"}],\"\\n\"]}]\nc8:[\"$\",\"pre\",null,{\"className\":\"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto mb-4\",\"children\":[\"$\",\"code\",null,{\"className\":\"bg-gray-100 text-red-600 px-1.5 py-0.5 rounded text-sm font-mono\",\"children\":\"# DHCP server configuration\\nhost meter-unit-101 {\\n  hardware ethernet 00:11:22:33:44:55;\\n  fixed-address 10.50.1.101;\\n}\\n\\nhost meter-unit-102 {\\n  hardware ethernet 00:11:22:33:44:66;\\n  fixed-address 10.50.1.102;\\n}\\n\"}]}]\nc9:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"5. Application-Layer Addressing (Best Practice)\"}]}]\nca:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":\"DLMS/COSEM has built-in addressing that's independent of network layer:\"}]\n"])</script><script>self.__next_f.push([1,"cb:[\"$\",\"pre\",null,{\"className\":\"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto mb-4\",\"children\":[\"$\",\"code\",null,{\"className\":\"hljs language-javascript\",\"children\":[[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// DLMS connection parameters\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"const\"}],\" connectionParams = {\\n  \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// Physical address (doesn't depend on IP)\"}],\"\\n  \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"serverAddress\"}],\": {\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"logicalDeviceAddress\"}],\": \",[\"$\",\"span\",null,{\"className\":\"hljs-number\",\"children\":\"1\"}],\",      \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// Meter ID\"}],\"\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"physicalDeviceAddress\"}],\": \",[\"$\",\"span\",null,{\"className\":\"hljs-number\",\"children\":\"0x01\"}],\"   \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// HDLC address\"}],\"\\n  },\\n\\n  \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"clientAddress\"}],\": \",[\"$\",\"span\",null,{\"className\":\"hljs-number\",\"children\":\"16\"}],\",               \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// HES address\"}],\"\\n\\n  \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// Transport can be anything\"}],\"\\n  \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"transport\"}],\": {\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"type\"}],\": \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'tcp'\"}],\",\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"host\"}],\": concentratorIP,          \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// Only concentrator needs static/known IP\"}],\"\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"port\"}],\": \",[\"$\",\"span\",null,{\"className\":\"hljs-number\",\"children\":\"4059\"}],\"\\n  },\\n\\n  \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// Meter identification (from Association object)\"}],\"\\n  \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"systemTitle\"}],\": \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'4D544831303031'\"}],\",   \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// Unique meter identifier\"}],\"\\n  \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"serialNumber\"}],\": \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'12345678'\"}],\"\\n};\\n\"]}]}]\n"])</script><script>self.__next_f.push([1,"cc:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"The HES maintains a \",[\"$\",\"strong\",null,{\"children\":\"meter inventory database\"}],\":\"]}]\n"])</script><script>self.__next_f.push([1,"cd:[\"$\",\"pre\",null,{\"className\":\"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto mb-4\",\"children\":[\"$\",\"code\",null,{\"className\":\"hljs language-javascript\",\"children\":[[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"const\"}],\" meterInventory = [\\n  {\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"serialNumber\"}],\": \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'12345678'\"}],\",\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"unitNumber\"}],\": \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'101'\"}],\",\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"systemTitle\"}],\": \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'4D544831303031'\"}],\",\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"communicationPath\"}],\": {\\n      \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"concentratorIP\"}],\": \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'192.168.1.100'\"}],\",\\n      \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"logicalAddress\"}],\": \",[\"$\",\"span\",null,{\"className\":\"hljs-number\",\"children\":\"0x01\"}],\"\\n    }\\n  },\\n  {\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"serialNumber\"}],\": \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'12345679'\"}],\",\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"unitNumber\"}],\": \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'102'\"}],\",\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"systemTitle\"}],\": \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'4D544831303032'\"}],\",\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"communicationPath\"}],\": {\\n      \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"concentratorIP\"}],\": \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'192.168.1.100'\"}],\",\\n      \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"logicalAddress\"}],\": \",[\"$\",\"span\",null,{\"className\":\"hljs-number\",\"children\":\"0x02\"}],\"\\n    }\\n  }\\n];\\n\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// Connect by serial number, not by IP\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"async\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"function\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"connectToMeter\"}],\"(\",[\"$\",\"span\",null,{\"className\":\"hljs-params\",\"children\":\"serialNumber\"}],\") {\\n  \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"const\"}],\" meter = meterInventory.\",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"find\"}],\"(\",[\"$\",\"span\",null,{\"className\":\"hljs-function\",\"children\":[[\"$\",\"span\",null,{\"className\":\"hljs-params\",\"children\":\"m\"}],\" =\u003e\"]}],\" m.\",[\"$\",\"span\",null,{\"className\":\"hljs-property\",\"children\":\"serialNumber\"}],\" === serialNumber);\\n\\n  \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// Connect to concentrator first\"}],\"\\n  \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"const\"}],\" concentrator = \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"await\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"connect\"}],\"(meter.\",[\"$\",\"span\",null,{\"className\":\"hljs-property\",\"children\":\"communicationPath\"}],\".\",[\"$\",\"span\",null,{\"className\":\"hljs-property\",\"children\":\"concentratorIP\"}],\");\\n\\n  \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// Route to specific meter using logical address\"}],\"\\n  \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"await\"}],\" concentrator.\",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"routeToMeter\"}],\"(meter.\",[\"$\",\"span\",null,{\"className\":\"hljs-property\",\"children\":\"communicationPath\"}],\".\",[\"$\",\"span\",null,{\"className\":\"hljs-property\",\"children\":\"logicalAddress\"}],\");\\n}\\n\"]}]}]\n"])</script><script>self.__next_f.push([1,"ce:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Recommendation for Sub-Metering:\"}]}]\ncf:[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4 leading-relaxed\",\"children\":[\"✅ \",[\"$\",\"strong\",null,{\"children\":\"Use Data Concentrator as Gateway\"}],\" - This is the industry-standard approach:\"]}]\nd0:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Concentrator has one static IP (or cellular with VPN)\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Meters use PLC/RF with logical addressing (no IPs)\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"HES connects to concentrator, not directly to meters\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"Scalable, reliable, no IP management headache\"}],\"\\n\"]}]\nd1:[\"$\",\"h2\",null,{\"className\":\"text-3xl font-semibold text-gray-900 mb-4 mt-8\",\"children\":\"Related Resources\"}]\n"])</script><script>self.__next_f.push([1,"d2:[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside mb-4 space-y-2 text-gray-700\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"$L4\",null,{\"href\":\"/protocols\",\"className\":\"text-blue-600 hover:text-blue-700 underline\",\"children\":\"Communication Protocols\"}],\" - Understanding DLMS/COSEM protocol\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"$L4\",null,{\"href\":\"/learn/obis-codes\",\"className\":\"text-blue-600 hover:text-blue-700 underline\",\"children\":\"OBIS Codes\"}],\" - Meter data identification\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"$L4\",null,{\"href\":\"/learn/getting-started\",\"className\":\"text-blue-600 hover:text-blue-700 underline\",\"children\":\"Getting Started\"}],\" - Development setup\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"$L4\",null,{\"href\":\"/learn/interactive-examples\",\"className\":\"text-blue-600 hover:text-blue-700 underline\",\"children\":\"Interactive Examples\"}],\" - Code samples\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"$L4\",null,{\"href\":\"/learn/communication-profiles\",\"className\":\"text-blue-600 hover:text-blue-700 underline\",\"children\":\"Communication Profiles\"}],\" - HDLC, TCP/IP wrapper details\"]}],\"\\n\"]}]\n"])</script><script>self.__next_f.push([1,"d3:[\"$\",\"$Lf2\",null,{\"children\":[\"$Lf3\",[\"$\",\"$Lf4\",null,{\"promise\":\"$@f5\"}]]}]\n"])</script><script>self.__next_f.push([1,"d9:[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"PRIMARY KEY\"}]\nda:[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"REFERENCES\"}]\ndb:[\"$\",\"span\",null,{\"className\":\"hljs-type\",\"children\":\"DATE\"}]\ndc:[\"$\",\"span\",null,{\"className\":\"hljs-type\",\"children\":\"DATE\"}]\ndd:[\"$\",\"span\",null,{\"className\":\"hljs-type\",\"children\":\"DECIMAL\"}]\nde:[\"$\",\"span\",null,{\"className\":\"hljs-number\",\"children\":\"10\"}]\ndf:[\"$\",\"span\",null,{\"className\":\"hljs-number\",\"children\":\"3\"}]\ne0:[\"$\",\"span\",null,{\"className\":\"hljs-type\",\"children\":\"DECIMAL\"}]\ne1:[\"$\",\"span\",null,{\"className\":\"hljs-number\",\"children\":\"6\"}]\ne2:[\"$\",\"span\",null,{\"className\":\"hljs-number\",\"children\":\"4\"}]\ne3:[\"$\",\"span\",null,{\"className\":\"hljs-type\",\"children\":\"DECIMAL\"}]\ne4:[\"$\",\"span\",null,{\"className\":\"hljs-number\",\"children\":\"10\"}]\ne5:[\"$\",\"span\",null,{\"className\":\"hljs-number\",\"children\":\"2\"}]\ne6:[\"$\",\"span\",null,{\"className\":\"hljs-type\",\"children\":\"DECIMAL\"}]\ne7:[\"$\",\"span\",null,{\"className\":\"hljs-number\",\"children\":\"10\"}]\ne8:[\"$\",\"span\",null,{\"className\":\"hljs-number\",\"children\":\"2\"}]\ne9:[\"$\",\"span\",null,{\"className\":\"hljs-type\",\"children\":\"DECIMAL\"}]\nea:[\"$\",\"span\",null,{\"className\":\"hljs-number\",\"children\":\"10\"}]\neb:[\"$\",\"span\",null,{\"className\":\"hljs-number\",\"children\":\"2\"}]\nec:[\"$\",\"span\",null,{\"className\":\"hljs-type\",\"children\":\"VARCHAR\"}]\ned:[\"$\",\"span\",null,{\"className\":\"hljs-number\",\"children\":\"20\"}]\nee:[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"-- pending, paid, overdue\"}]\nef:[\"$\",\"span\",null,{\"className\":\"hljs-type\",\"children\":\"DATE\"}]\nf0:[\"$\",\"tr\",null,{\"className\":\"hover:bg-gray-50\",\"children\":[[\"$\",\"td\",null,{\"className\":\"px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0\",\"children\":\"Vending Platform\"}],[\"$\",\"td\",null,{\"className\":\"px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0\",\"children\":\"$$3,000 - $10,000\"}],[\"$\",\"td\",null,{\"className\":\"px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0\",\"children\":\"1\"}],[\"$\",\"td\",null,{\"className\":\"px-4 py-3 text-s"])</script><script>self.__next_f.push([1,"m text-gray-700 border-r border-gray-200 last:border-r-0\",\"children\":\"$$3,000 - $10,000\"}]]}]\nf1:[\"$\",\"tr\",null,{\"className\":\"hover:bg-gray-50\",\"children\":[[\"$\",\"td\",null,{\"className\":\"px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Total CapEx\"}]}],[\"$\",\"td\",null,{\"className\":\"px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0\",\"children\":\"$undefined\"}],[\"$\",\"td\",null,{\"className\":\"px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0\",\"children\":\"$undefined\"}],[\"$\",\"td\",null,{\"className\":\"px-4 py-3 text-sm text-gray-700 border-r border-gray-200 last:border-r-0\",\"children\":[\"$\",\"strong\",null,{\"children\":\"$$21,500 - $52,500\"}]}]]}]\n"])</script><script>self.__next_f.push([1,"d5:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n"])</script><script>self.__next_f.push([1,"f3:null\n"])</script><script>self.__next_f.push([1,"f5:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"MeterHub - Smart Metering Education \u0026 Services\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Professional learning platform for smart metering technology, protocols, and business applications\"}]],\"error\":null,\"digest\":\"$undefined\"}\nd8:\"$f5:metadata\"\n"])</script></body></html>